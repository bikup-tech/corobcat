(this.webpackJsonpcorobcat=this.webpackJsonpcorobcat||[]).push([[0],{108:function(e){e.exports=JSON.parse('[{"_id":"vasdrqw12","employerCode":"e124","name":"Mourin Deployer","role":"EMPLOYEE"},{"_id":"wrqs12","employerCode":"e125","name":"Gerardo Ramono","role":"EMPLOYEE"},{"_id":"12rqwefqw2","employerCode":"a126","name":"Admin admin","role":"ADMIN"}]')},146:function(e){e.exports=JSON.parse('[{"_id":"asd5as5d7a8ad8a","name":"maquina1","status":0},{"_id":"f87gh6fgh87fg89","name":"maquina2","status":0}]')},186:function(e){e.exports=JSON.parse('[{"_id":"d7fs98","taskNumber":0,"status":0,"start":"2021-04-23T18:25:43.511Z","end":null,"duration":1,"userId":"vasdrqw12","employerCode":"asd8a7sd68","machineId":"asd5as5d7a8ad8a","material":"verda1","thickness":3,"programNumber":"21","priority":5},{"_id":"maquina2-1","taskNumber":1,"status":0,"start":"2021-05-23T18:25:43.511Z","end":"2021-05-24T18:25:43.511Z","duration":24,"userId":"wrqs12","employerCode":"a8s9d76asd","machineId":"f87gh6fgh87fg89","material":"Iron","thickness":16,"programNumber":"1","priority":1},{"_id":"maquina2-2","taskNumber":2,"status":0,"start":"2021-05-23T18:25:43.511Z","end":null,"duration":48,"userId":"wrqs12","employerCode":"a8s9d76asd","machineId":"f87gh6fgh87fg89","material":"Diamond","thickness":32,"programNumber":"1321","priority":10},{"_id":"df09g8df0asd","taskNumber":3,"status":0,"start":"2021-07-23T08:25:43.511Z","end":null,"duration":1,"userId":"vasdrqw12","employerCode":"asd8a7sd68","machineId":"asd5as5d7a8ad8a","material":"verda2","thickness":3,"programNumber":"21","priority":7},{"_id":"5jk6h45kj6","taskNumber":4,"status":0,"start":"2021-07-23T08:25:43.511Z","end":"2021-07-25T12:25:43.511Z","duration":4,"userId":"vasdrqw12","employerCode":"asd8a7sd68","machineId":"asd5as5d7a8ad8a","material":"Iron","thickness":3,"programNumber":"32","priority":3},{"_id":"45lk6j3l4k","taskNumber":0,"status":0,"start":"2021-04-23T18:25:43.511Z","end":null,"duration":1,"userId":"vasdrqw12","employerCode":"asd8a7sd68","machineId":"asd5as5d7a8ad8a","material":"Plastic","thickness":3,"programNumber":"21","priority":1},{"_id":"4k24kj242","taskNumber":0,"status":0,"start":"2021-04-23T18:25:43.511Z","end":null,"duration":1,"userId":"vasdrqw12","employerCode":"asd8a7sd68","machineId":"asd5as5d7a8ad8a","material":"Plastic","thickness":3,"programNumber":"21","priority":10},{"_id":"k34j5h4k6j2l","taskNumber":0,"status":0,"start":"2021-04-23T18:25:43.511Z","end":null,"duration":1,"userId":"vasdrqw12","employerCode":"asd8a7sd68","machineId":"asd5as5d7a8ad8a","material":"Plastic","thickness":3,"programNumber":"21","priority":4},{"_id":"435kl34lk","taskNumber":0,"status":0,"start":"2021-04-23T18:25:43.511Z","end":null,"duration":1,"userId":"vasdrqw12","employerCode":"asd8a7sd68","machineId":"asd5as5d7a8ad8a","material":"Verda3","thickness":3,"programNumber":"21","priority":6},{"_id":"nflqwehe123","taskNumber":0,"status":1,"start":"2021-04-23T18:25:43.511Z","end":null,"duration":50,"userId":"vasdrqw12","employerCode":"juanjo","machineId":"asd5as5d7a8ad8a","material":"Iron","thickness":3,"programNumber":"21","priority":3},{"_id":"435123qw34lk","taskNumber":0,"status":1,"start":"2021-04-23T18:25:43.511Z","end":null,"duration":1,"userId":"vasdrqw12","employerCode":"asd8a7sd68","machineId":"asd5as5d7a8ad8a","material":"Plastic","thickness":3,"programNumber":"21","priority":10},{"_id":"435qasf1234lk","taskNumber":0,"status":1,"start":"2021-04-23T18:25:43.511Z","end":null,"duration":1,"userId":"vasdrqw12","employerCode":"asd8a7sd68","machineId":"asd5as5d7a8ad8a","material":"Plastic","thickness":3,"programNumber":"21","priority":6},{"_id":"435kl34l12dasdk","taskNumber":0,"status":1,"start":"2021-04-23T18:25:43.511Z","end":null,"duration":1,"userId":"vasdrqw12","employerCode":"asd8a7sd68","machineId":"asd5as5d7a8ad8a","material":"Plastic","thickness":3,"programNumber":"21","priority":2},{"_id":"fsafqw132fa","taskNumber":0,"status":1,"start":"2021-04-23T18:25:43.511Z","end":null,"duration":1,"userId":"vasdrqw12","employerCode":"asd8a7sd68","machineId":"asd5as5d7a8ad8a","material":"Plastic","thickness":3,"programNumber":"21","priority":1},{"_id":"eqfq123fas","taskNumber":0,"status":1,"start":"2021-04-23T18:25:43.511Z","end":null,"duration":1,"userId":"vasdrqw12","employerCode":"asd8a7sd68","machineId":"f87gh6fgh87fg89","material":"Plastic","thickness":3,"programNumber":"21","priority":8},{"_id":"435kl34ldqwqw1k","taskNumber":0,"status":1,"start":"2021-04-23T18:25:43.511Z","end":null,"duration":1,"userId":"vasdrqw12","employerCode":"asd8a7sd68","machineId":"asd5as5d7a8ad8a","material":"Plastic","thickness":3,"programNumber":"21","priority":9},{"_id":"435klqr12134lk","taskNumber":0,"status":1,"start":"2021-04-23T18:25:43.511Z","end":null,"duration":1,"userId":"vasdrqw12","employerCode":"asd8a7sd68","machineId":"f87gh6fgh87fg89","material":"Plastic","thickness":3,"programNumber":"21","priority":3},{"_id":"eqweq3124hdty6","taskNumber":0,"status":1,"start":"2021-04-23T18:25:43.511Z","end":null,"duration":1,"userId":"vasdrqw12","employerCode":"asd8a7sd68","machineId":"f87gh6fgh87fg89","material":"Plastic","thickness":3,"programNumber":"21","priority":2},{"_id":"451231afw34lk","taskNumber":0,"status":1,"start":"2021-04-23T18:25:43.511Z","end":null,"duration":1,"userId":"vasdrqw12","employerCode":"asd8a7sd68","machineId":"f87gh6fgh87fg89","material":"Plastic","thickness":3,"programNumber":"21","priority":5}]')},217:function(e,a,t){},224:function(e,a,t){},225:function(e,a,t){},234:function(e,a,t){},235:function(e,a,t){},236:function(e,a,t){},237:function(e,a,t){},336:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),i=t(51),s=t.n(i),c=(t(217),t(39)),d=t(23),o=t(386),l=t(179),j=t(26),u=t(87),b=t(178),m=t(19),h="FORCE_RENDER",O="LOGIN_LOADING",p="LOGIN_SUCCESS",x="LOGIN_ERROR",g="SET_CREATE_TASK_MODAL_ISOPEN",f="SET_CREATE_TASK_MODAL_SELECTED_MACHINE";var v=Object(u.b)({authReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=arguments.length>1?arguments[1]:void 0,t={};switch(a.type){case O:t=Object(m.a)(Object(m.a)({},e),{},{loginLoading:!0});break;case x:t=Object(m.a)(Object(m.a)({},e),{},{loginLoading:!1,loginError:a.payload.errorMessage});break;case p:t=Object(m.a)(Object(m.a)({},e),{},{loginLoading:!1,loginError:null,user:a.payload.user});break;default:t=e}return t},mainReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=arguments.length>1?arguments[1]:void 0,t={};switch(a.type){case h:t=Object(m.a)(Object(m.a)({},e),{},{forceRender:++e.forceRender});break;case g:t=Object(m.a)(Object(m.a)({},e),{},{createTaskModal:Object(m.a)(Object(m.a)({},e.createTaskModal),{},{isOpen:a.payload})});break;case f:t=Object(m.a)(Object(m.a)({},e),{},{createTaskModal:Object(m.a)(Object(m.a)({},e.createTaskModal),{},{selectedMachine:a.payload})});break;default:t=e}return t}});function k(e){var a=window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||u.c;return Object(u.d)(v,e,a(Object(u.a)(b.a)))}var y={mainReducer:{forceRender:0,createTaskModal:{isOpen:!1,selectedMachine:1}},authReducer:{user:JSON.parse(localStorage.getItem("user"))||null}},N=t(30),w=t.n(N),_=t(46),C=t(388),T=t(108);var E=t(17),I=t(24),P=(t(224),t(225),t(395)),q=t(397),M=t(124),F=t(398),L=t(1);var S,R,D=function(e){var a=e.employee;return Object(L.jsxs)(P.a,{className:"employee__card",children:[Object(L.jsxs)(q.a,{children:[Object(L.jsxs)(M.a,{color:"textSecondary",gutterBottom:!0,children:["C\xf3digo empleado: ",a.employerCode]}),Object(L.jsx)(M.a,{variant:"h5",component:"h2",children:a.name})]}),Object(L.jsx)(F.a,{children:Object(L.jsx)(c.b,{to:"/employees/".concat(a._id),className:"employee__link",children:"Ver Empleado"})})]},a._id)},Z=t(399),z=I.a.div(S||(S=Object(E.a)(["\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: start;\n  align-items: flex-start;\n  width: 100%;\n  height: 100%;\n"]))),A=I.a.div(R||(R=Object(E.a)(["\n  width: 100%;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  padding: 1rem;\n\n  font-size: 1.75rem;\n"])));var W=function(e){var a=e.employees,t=e.isLoading,n=e.isError;return Object(L.jsxs)(L.Fragment,{children:[Object(L.jsx)("div",{className:"employees-title",children:"Lista de empleados"}),Object(L.jsx)(z,{className:"employees-container",children:t?Object(L.jsxs)(A,{children:[Object(L.jsx)(Z.a,{}),"Cargando Datos..."]}):n?Object(L.jsx)(L.Fragment,{}):a&&a.map((function(e){return Object(L.jsx)(D,{employee:e},e._id)}))})]})};var H=function(){var e=Object(C.a)(["loadEmployers"],Object(_.a)(w.a.mark((function e(){var a;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=T,e.abrupt("return",a);case 2:case"end":return e.stop()}}),e)})))),a=e.isLoading,t=e.isError,n=e.data;return Object(L.jsx)(L.Fragment,{children:Object(L.jsx)(W,{employees:n,isLoading:a,isError:t})})},G=t(13),J=t(409),B=t(410),V=t(396),U=t(411),K=t(412),X=t(401),Y=t(402),Q=t(384),$=t(400);function ee(e){var a=e.headCells;return Object(L.jsx)($.a,{children:Object(L.jsx)(X.a,{children:a.map((function(e){return Object(L.jsx)(Y.a,{align:"center",padding:"normal",children:e.label},e.id)}))})})}var ae=t(403);var te=function(e){var a=e.taskId,t=(e.programNumber,e.openFinishedTaskDialog);return Object(L.jsx)(L.Fragment,{children:Object(L.jsx)(ae.a,{variant:"contained",disableElevation:!0,onClick:function(){t(a)},children:"Finalizar"})})},ne=t(404),re=t(405),ie=t(406),se=t(407),ce=t(408),de=t(16),oe=t(186),le=Object(de.a)(oe);function je(e){return le.filter((function(a){return a.machineId===e&&0===a.status}))}function ue(e){return le.filter((function(a){return a.userId===e}))}function be(e){return{type:g,payload:e}}var me={taskId:""};function he(){var e=Object(j.b)(),a=Object(n.useState)(!1),t=Object(G.a)(a,2),r=t[0],i=t[1],s=Object(n.useState)(me),c=Object(G.a)(s,2),d=c[0],o=c[1];function l(){i(!1)}return{FinishTaskDialog:Object(L.jsxs)(ne.a,{open:r,onClose:l,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[Object(L.jsx)(re.a,{id:"alert-dialog-title",children:"Confirmaci\xf3n finalizar programa"}),Object(L.jsx)(ie.a,{children:Object(L.jsx)(se.a,{id:"alert-dialog-description",children:"\xa0Est\xe1s seguro de que deseas finalizar el programa?"})}),Object(L.jsxs)(ce.a,{children:[Object(L.jsx)(ae.a,{onClick:l,children:"Cancelar"}),Object(L.jsx)(ae.a,{onClick:function(){!function(e){var a=le.findIndex((function(a){return a._id===e}));(a||0===a)&&(le[a].status=1)}(d.taskId),i(!1),e({type:h})},autoFocus:!0,variant:"contained",children:"Finalizar programa"})]})]}),handleFinishTaskDialogOpen:function(e){i(!0),o(Object(m.a)(Object(m.a)({},d),{},{taskId:e}))},handleFinishTaskDialogClose:l}}var Oe,pe,xe,ge="78vh",fe=I.a.div(Oe||(Oe=Object(E.a)(["\n  display: flex;\n  justify-content: center;\n  width: 100%;\n"]))),ve=I.a.div(pe||(pe=Object(E.a)(["\n  width: 100%;\n  max-width: ","px;\n\n  .MuiTableCell-head {\n    color: #002740;\n    font-weight: 700;\n    background-color: #f5f5f5;\n    border-bottom: 2px solid rgba(150, 150, 150, 1);\n    line-height: 1.25;\n    font-size: 1.1rem;\n  }\n\n  .MuiTableCell-body {\n    border-bottom: 1px solid rgba(255, 255, 255, 1);\n    font-weight: 500;\n    font-size: 1.1rem;\n  }\n\n  .MuiTablePagination-root {\n    color: white;\n  }\n\n  .MuiSvgIcon-root {\n    color: white;\n  }\n"])),1200),ke=I.a.div(xe||(xe=Object(E.a)(["\n  width: 100%;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  padding: 1rem;\n\n  font-size: 1.75rem;\n\n  .MuiCircularProgress-root {\n    margin-right: 1rem;\n  }\n"])));function ye(e){var a="";return e>0&&e<=2&&(a="rgba(93, 172, 245, 0.5)"),e>2&&e<=4&&(a="rgba(1, 187, 63, 0.5)"),e>4&&e<=8&&(a="rgba(255, 163, 15, 0.5)"),e>8&&e<=10&&(a="rgba(246, 91, 92, 0.5)"),{backgroundColor:a}}function Ne(e){var a=e.tasks,t=e.headCells,r=e.isLoading,i=e.isError,s=he(),c=s.FinishTaskDialog,d=s.handleFinishTaskDialogOpen,o=(s.handleFinishTaskDialogClose,Object(n.useState)(0)),l=Object(G.a)(o,2),j=l[0],u=l[1],b=Object(n.useState)(25),m=Object(G.a)(b,2),h=m[0],O=m[1];return Object(L.jsxs)(fe,{className:"EnhancedTaskTable",children:[Object(L.jsx)(ve,{className:"EnhancedTaskTable__container",children:Object(L.jsxs)(J.a,{sx:{width:"100%"},children:[Object(L.jsx)(B.a,{component:V.a,sx:{maxHeight:ge},children:Object(L.jsxs)(U.a,{sx:{minWidth:750},"aria-labelledby":"tableTitle",size:"medium",stickyHeader:!0,children:[Object(L.jsx)(ee,{headCells:t}),Object(L.jsx)(K.a,{children:r?Object(L.jsx)(X.a,{children:Object(L.jsx)(Y.a,{colSpan:999,children:Object(L.jsxs)(ke,{children:[Object(L.jsx)(Z.a,{}),"Cargando Datos..."]})})}):i?Object(L.jsx)(L.Fragment,{}):a&&a.map((function(e,a){return Object(L.jsxs)(X.a,{sx:{"&:last-child td, &:last-child th":{border:0}},style:ye(e.priority),children:[Object(L.jsx)(Y.a,{component:"th",scope:"row",align:"center",width:100,children:e.taskNumber}),Object(L.jsx)(Y.a,{align:"center",children:e.material}),Object(L.jsx)(Y.a,{align:"center",children:e.thickness}),Object(L.jsx)(Y.a,{align:"center",children:e.programNumber}),Object(L.jsx)(Y.a,{align:"center",children:e.employerCode}),Object(L.jsxs)(Y.a,{align:"center",children:[e.duration," min"]}),Object(L.jsx)(Y.a,{align:"center",children:Object(L.jsx)(te,{taskId:e._id,programNumber:e.programNumber,openFinishedTaskDialog:d})})]},e._id)}))})]})}),!r&&a&&Object(L.jsx)(Q.a,{rowsPerPageOptions:[25,50,75,100],component:"div",count:a.length,rowsPerPage:h,page:j,onPageChange:function(e,a){u(a)},onRowsPerPageChange:function(e){O(parseInt(e.target.value,10)),u(0)}})]})}),c]})}function we(e){return e?e.sort((function(e,a){return a.priority-e.priority})):void 0}var _e=function(e){var a=e.tasks,t=e.isLoading,n=e.isError;return Object(L.jsx)(L.Fragment,{children:Object(L.jsx)(Ne,{headCells:[{id:"taskNumber",label:"N\xba Tarea"},{id:"material",label:"Material"},{id:"thickness",label:"Espesor"},{id:"programNumber",label:"N\xba Programa"},{id:"employerCode",label:"T\xe9cnico"},{id:"duration",label:"Tiempo"},{id:"actions",label:"Acciones"}],tasks:we(a),isLoading:t,isError:n})})},Ce=t(146);function Te(e){return Ce.find((function(a){return a.name===e}))}var Ee=function(){var e=Object(j.c)((function(e){return e.mainReducer})).forceRender,a=function(e,a){return Object(C.a)(["loadMachineTasks",e,a],Object(_.a)(w.a.mark((function a(){var t,n;return w.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(!(t=Te(e))){a.next=4;break}return n=je(t._id),a.abrupt("return",n);case 4:case"end":return a.stop()}}),a)}))),{refetchInterval:6e4})}(Object(d.h)().machineName,e),t=a.isLoading,n=a.isError,r=a.data;return Object(L.jsx)(L.Fragment,{children:Object(L.jsx)(_e,{tasks:r,handleTaskClick:function(e){console.log("hola")},isLoading:t,isError:n})})},Ie=T;function Pe(e){return Ie.find((function(a){return a._id===e}))}function qe(e){return Ie.find((function(a){return a.employerCode===e}))}function Me(e){var a=e.tasks,t=e.headCells,n=e.isLoading,i=e.isError,s=r.a.useState(0),c=Object(G.a)(s,2),d=c[0],o=c[1],l=r.a.useState(25),j=Object(G.a)(l,2),u=j[0],b=j[1];return Object(L.jsx)(fe,{className:"EnhancedTaskTable",children:Object(L.jsx)(ve,{className:"EnhancedTaskTable__container",children:Object(L.jsxs)(J.a,{sx:{width:"100%"},children:[Object(L.jsx)(B.a,{component:V.a,sx:{maxHeight:ge},children:Object(L.jsxs)(U.a,{sx:{minWidth:750,maxHeight:250},"aria-labelledby":"tableTitle",size:"medium",stickyHeader:!0,children:[Object(L.jsx)(ee,{headCells:t}),Object(L.jsx)(K.a,{children:n?Object(L.jsx)(X.a,{children:Object(L.jsx)(Y.a,{colSpan:999,children:Object(L.jsxs)(ke,{children:[Object(L.jsx)(Z.a,{}),"Cargando Datos..."]})})}):i?Object(L.jsx)(L.Fragment,{}):a&&a.map((function(e,a){return Object(L.jsxs)(X.a,{sx:{"&:last-child td, &:last-child th":{border:0}},style:ye(e.priority),children:[Object(L.jsx)(Y.a,{component:"th",scope:"row",align:"center",width:100,children:e.taskNumber}),Object(L.jsx)(Y.a,{align:"center",children:e.material}),Object(L.jsx)(Y.a,{align:"center",children:e.thickness}),Object(L.jsx)(Y.a,{align:"center",children:e.programNumber}),Object(L.jsxs)(Y.a,{align:"center",children:[e.duration," min"]})]},e._id)}))})]})}),!n&&a&&Object(L.jsx)(Q.a,{rowsPerPageOptions:[25,50,75,100],component:"div",count:a.length,rowsPerPage:u,page:d,onPageChange:function(e,a){o(a)},onRowsPerPageChange:function(e){b(parseInt(e.target.value,10)),o(0)}})]})})})}t(234);var Fe=t(188),Le=t.n(Fe),Se=t(416);var Re=function(e){var a=e.employee,t=Object(d.g)();return Object(L.jsx)("div",{className:"user-data-table-container",children:Object(L.jsxs)("div",{className:"user-data-table",children:[Object(L.jsx)(Se.a,{onClick:function(){return t.goBack()},"aria-label":"goBack",children:Object(L.jsx)(Le.a,{})}),Object(L.jsx)("p",{className:"user-data-table__info--name",children:null===a||void 0===a?void 0:a.name}),Object(L.jsx)("p",{className:"user-data-table__info",children:null===a||void 0===a?void 0:a.employerCode})]})})};var De=function(e){var a=e.tasks,t=e.isLoading,n=e.isError,r=e.employee;return Object(L.jsxs)(L.Fragment,{children:[Object(L.jsx)(Re,{employee:r}),Object(L.jsx)(Me,{headCells:[{id:"taskNumber",label:"N\xba tarea"},{id:"material",label:"Material"},{id:"thickness",label:"Espesor"},{id:"programNumber",label:"N\xba Programa"},{id:"duration",label:"Tiempo"}],tasks:a,isLoading:t,isError:n})]})};var Ze=function(){var e=function(e){return Object(C.a)(["loadEmployeeTasks",e],Object(_.a)(w.a.mark((function a(){var t,n;return w.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return t=Pe(e),n=ue(e),a.abrupt("return",{employeeTasks:n,employee:t});case 3:case"end":return a.stop()}}),a)}))),{refetchInterval:6e4})}(Object(d.h)().employeeId),a=e.isLoading,t=e.isError,n=e.data;return Object(L.jsx)(L.Fragment,{children:Object(L.jsx)(De,{tasks:null===n||void 0===n?void 0:n.employeeTasks,employee:null===n||void 0===n?void 0:n.employee,isLoading:a,isError:t})})};function ze(e){var a=e.tasks,t=e.headCells,n=e.isLoading,i=e.isError,s=r.a.useState(0),c=Object(G.a)(s,2),d=c[0],o=c[1],l=r.a.useState(25),j=Object(G.a)(l,2),u=j[0],b=j[1];return Object(L.jsx)(fe,{className:"EnhancedTaskTable",children:Object(L.jsx)(ve,{className:"EnhancedTaskTable__container",children:Object(L.jsxs)(J.a,{sx:{width:"100%"},children:[Object(L.jsx)(B.a,{component:V.a,sx:{maxHeight:ge},children:Object(L.jsxs)(U.a,{sx:{minWidth:750},"aria-labelledby":"tableTitle",size:"medium",stickyHeader:!0,children:[Object(L.jsx)(ee,{headCells:t}),Object(L.jsx)(K.a,{children:n?Object(L.jsx)(X.a,{children:Object(L.jsx)(Y.a,{colSpan:999,children:Object(L.jsxs)(ke,{children:[Object(L.jsx)(Z.a,{}),"Cargando Datos..."]})})}):i?Object(L.jsx)(L.Fragment,{}):a&&a.map((function(e,a){return Object(L.jsxs)(X.a,{sx:{"&:last-child td, &:last-child th":{border:0}},style:ye(e.priority),children:[Object(L.jsx)(Y.a,{component:"th",scope:"row",align:"center",width:100,children:e.taskNumber}),Object(L.jsx)(Y.a,{align:"center",children:e.machineName}),Object(L.jsx)(Y.a,{align:"center",children:e.material}),Object(L.jsx)(Y.a,{align:"center",children:e.thickness}),Object(L.jsx)(Y.a,{align:"center",children:e.programNumber}),Object(L.jsx)(Y.a,{align:"center",children:e.employerCode}),Object(L.jsxs)(Y.a,{align:"center",children:[e.duration," min"]})]},e._id)}))})]})}),!n&&a&&Object(L.jsx)(Q.a,{rowsPerPageOptions:[25,50,75,100],component:"div",count:a.length,rowsPerPage:u,page:d,onPageChange:function(e,a){o(a)},onRowsPerPageChange:function(e){b(parseInt(e.target.value,10)),o(0)}})]})})})}var Ae=function(e){var a=e.tasks,t=e.isLoading,n=e.isError;return Object(L.jsx)(L.Fragment,{children:Object(L.jsx)(ze,{headCells:[{id:"taskNumber",label:"N\xba Tarea"},{id:"machine",label:"M\xe1quina"},{id:"material",label:"Material"},{id:"thickness",label:"Espesor"},{id:"programNumber",label:"N\xba Programa"},{id:"employerCode",label:"T\xe9cnico"},{id:"duration",label:"Tiempo"}],tasks:a,isLoading:t,isError:n})})};function We(e,a){var t=e.find((function(e){return e._id===a}));return t?t.name:""}var He=function(){var e=Object(C.a)(["loadFinishedTasks"],Object(_.a)(w.a.mark((function e(){var a,t,n;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=le.filter((function(e){return 1===e.status})),t=Ce,n=a.map((function(e){return Object(m.a)(Object(m.a)({},e),{},{machineName:We(t,e.machineId)})})),e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)}))),{refetchInterval:6e4}),a=e.isLoading,t=e.isError,n=e.data;return Object(L.jsx)(L.Fragment,{children:Object(L.jsx)(Ae,{tasks:n,isLoading:a,isError:t})})},Ge=function(e){return"No existe un empleado con el c\xf3digo de empleado: ".concat(e,".")};function Je(e){return{type:x,payload:{errorMessage:e}}}t(235);var Be,Ve=t(393),Ue=t(394),Ke=t(385),Xe=t(189),Ye=t.n(Xe),Qe=I.a.div(Be||(Be=Object(E.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  width: 100vw;\n  height: 100vh;\n\n  .MuiPaper-root {\n    padding: 3rem 1.25rem;\n    width: 17rem;\n  }\n\n  .MuiGrid-root {\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    align-items: center;\n  }\n  .MuiAvatar-root {\n    margin-bottom: 1rem;\n    background-color: #1bbd7e;\n  }\n  .MuiFormControl-root {\n    margin-bottom: 1rem;\n    margin-top: 1rem;\n  }\n  .MuiButton-root {\n    margin-top: 1rem;\n  }\n"])));var $e=function(){var e=Object(j.b)(),a=Object(d.g)(),t=Object(j.c)((function(e){return e.authReducer})),r=t.loginLoading,i=t.loginError,s=t.user,c=Object(n.useRef)(null),o=Object(n.useState)(""),l=Object(G.a)(o,2),u=l[0],b=l[1];function m(){var a;c.current&&e((a=c.current.value,function(){var e=Object(_.a)(w.a.mark((function e(t){var n;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:O}),e.next=4,qe(a);case 4:(n=e.sent)?(localStorage.setItem("user",JSON.stringify(n)),t({type:p,payload:{user:n}})):t(Je(Ge(a))),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),e.t0.response?t(Je(e.t0.response.message)):t(Je(e.t0.message));case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(a){return e.apply(this,arguments)}}()))}return Object(n.useEffect)((function(){s&&a.replace("/machines"),i&&b(i)}),[s,i]),Object(L.jsx)(Qe,{children:Object(L.jsx)(Ve.a,{children:Object(L.jsxs)(V.a,{elevation:10,children:[Object(L.jsxs)(Ve.a,{children:[Object(L.jsx)(Ue.a,{children:Object(L.jsx)(Ye.a,{})}),Object(L.jsx)("h2",{children:"Login"})]}),Object(L.jsx)(Ke.a,{label:"C\xf3digo de empleado",placeholder:"Entra el c\xf3digo de empleado",variant:"standard",fullWidth:!0,required:!0,inputRef:c,onKeyUp:function(e){"Enter"===e.key&&m()}}),r&&Object(L.jsx)(Z.a,{}),Object(L.jsx)("small",{className:"form__warningMessage",children:u}),Object(L.jsx)(ae.a,{variant:"contained",fullWidth:!0,onClick:m,children:"login"})]})})})},ea=t(413),aa=t(389),ta=t(381),na=t(382),ra=t(192),ia=t.n(ra),sa=t(147),ca=t.n(sa),da=t(191),oa=t.n(da),la=t(190),ja=t.n(la),ua=t(380);t(236);var ba=function(){return Object(L.jsxs)("div",{className:"left-menu",children:[Object(L.jsx)("div",{className:"left-menu__header",children:Object(L.jsx)(Ue.a,{children:"CRC"})}),Object(L.jsx)("nav",{children:Object(L.jsxs)(ea.a,{children:[Object(L.jsx)(aa.a,{disableGutters:!0,children:Object(L.jsx)(c.c,{to:"/machines",className:"left-menu__nav-item",children:Object(L.jsxs)(ua.a,{children:[Object(L.jsx)(ta.a,{children:Object(L.jsx)(ja.a,{})}),Object(L.jsx)(na.a,{primary:"Maquinas"})]})})}),Object(L.jsxs)(ea.a,{component:"div",disablePadding:!0,children:[Object(L.jsx)(c.c,{to:"/machines/maquina1",className:"left-menu__nav-item",children:Object(L.jsxs)(ua.a,{sx:{pl:5},children:[Object(L.jsx)(ta.a,{children:Object(L.jsx)(ca.a,{})}),Object(L.jsx)(na.a,{primary:"Maquina 1"})]})}),Object(L.jsx)(c.c,{to:"/machines/maquina2",className:"left-menu__nav-item",children:Object(L.jsxs)(ua.a,{sx:{pl:5},children:[Object(L.jsx)(ta.a,{children:Object(L.jsx)(ca.a,{})}),Object(L.jsx)(na.a,{primary:"Maquina 2"})]})})]}),Object(L.jsx)(aa.a,{disableGutters:!0,children:Object(L.jsx)(c.c,{to:"/employees",className:"left-menu__nav-item",children:Object(L.jsxs)(ua.a,{children:[Object(L.jsx)(ta.a,{children:Object(L.jsx)(oa.a,{})}),Object(L.jsx)(na.a,{primary:"Lista de t\xe9cnicos"})]})})}),Object(L.jsx)(aa.a,{disableGutters:!0,children:Object(L.jsx)(c.c,{to:"/finishedTasks",className:"left-menu__nav-item",children:Object(L.jsxs)(ua.a,{children:[Object(L.jsx)(ta.a,{children:Object(L.jsx)(ia.a,{})}),Object(L.jsx)(na.a,{primary:"Programas Terminados"})]})})})]})})]})};t(237);var ma=function(e){var a=e.children;return Object(L.jsxs)("div",{className:"layout",children:[Object(L.jsx)("div",{className:"layout__menu-container",children:Object(L.jsx)(ba,{})}),Object(L.jsx)("div",{className:"layout__content",children:a})]})},ha=t(193),Oa=["path","component","exact"];var pa,xa,ga,fa,va=function(e){var a=e.path,t=e.component,n=e.exact,r=Object(ha.a)(e,Oa),i=Object(j.c)((function(e){return e.authReducer.user}));return Object(L.jsx)(d.b,Object(m.a)(Object(m.a)({path:a,exact:n},r),{},{render:function(e){return i?Object(L.jsx)(t,Object(m.a)({},e)):Object(L.jsx)(d.a,{to:"/"})}}))};function ka(e){var a=e.tasks,t=e.headCells,r=he(),i=r.FinishTaskDialog,s=r.handleFinishTaskDialogOpen,c=(r.handleFinishTaskDialogClose,Object(n.useState)(0)),d=Object(G.a)(c,2),o=d[0],l=d[1],j=Object(n.useState)(25),u=Object(G.a)(j,2),b=u[0],m=u[1];return Object(L.jsxs)(fe,{className:"EnhancedTaskTable",children:[Object(L.jsx)(ve,{className:"EnhancedTaskTable__container",children:Object(L.jsxs)(J.a,{sx:{width:"100%"},children:[Object(L.jsx)(B.a,{component:V.a,sx:{maxHeight:ge},children:Object(L.jsxs)(U.a,{"aria-labelledby":"tableTitle",size:"medium",stickyHeader:!0,children:[Object(L.jsx)(ee,{headCells:t}),Object(L.jsx)(K.a,{children:a&&a.map((function(e,a){return Object(L.jsxs)(X.a,{sx:{"&:last-child td, &:last-child th":{border:0}},style:ye(e.priority),children:[Object(L.jsx)(Y.a,{component:"th",scope:"row",align:"center",width:100,children:e.taskNumber}),Object(L.jsx)(Y.a,{align:"center",children:e.programNumber}),Object(L.jsxs)(Y.a,{align:"center",children:[e.duration," min"]}),Object(L.jsx)(Y.a,{align:"center",children:Object(L.jsx)(te,{taskId:e._id,programNumber:e.programNumber,openFinishedTaskDialog:s})})]},e._id)}))})]})}),a&&Object(L.jsx)(Q.a,{rowsPerPageOptions:[25,50,75,100],component:"div",count:a.length,rowsPerPage:b,page:o,onPageChange:function(e,a){l(a)},onRowsPerPageChange:function(e){m(parseInt(e.target.value,10)),l(0)}})]})}),i]})}var ya=I.a.div(pa||(pa=Object(E.a)(["\n  width: 100%;\n  height: 100%;\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n  align-items: flex-start;\n"]))),Na=I.a.div(xa||(xa=Object(E.a)(["\n  width: 100%;\n  height: 100%;\n  display: flex;\n  flex-direction: row;\n  justify-content: center;\n  align-items: center;\n  padding-top: 1.5rem;\n  font-size: 1.5rem;\n  color: white;\n\n  .MuiCircularProgress-root {\n    margin-right: 1rem;\n  }\n"]))),wa=I.a.div(ga||(ga=Object(E.a)(["\n  width: 49%;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n"]))),_a=I.a.div(fa||(fa=Object(E.a)(["\n  padding: 1rem 0;\n  display: flex;\n  justify-content: space-between;\n  width: 100%;\n\n  .flex-grow {\n    flex: 1;\n  }\n\n  .machines-home-page__machine-title {\n    font-size: 1.75rem;\n    color: white;\n  }\n\n  .machines__header-actions {\n    display: flex;\n    justify-content: flex-end;\n  }\n"])));var Ca=function(e){var a=e.tasks,t=e.isLoading,n=(e.isError,Object(j.b)()),r=[{id:"taskNumber",label:"N\xba Tarea"},{id:"programNumber",label:"N\xba Programa"},{id:"duration",label:"Tiempo"},{id:"actions",label:"Acciones"}];function i(e){n(function(e){return{type:f,payload:e}}(e)),n(be(!0))}return Object(L.jsxs)(L.Fragment,{children:[t&&Object(L.jsxs)(Na,{children:[Object(L.jsx)(Z.a,{}),"Cargando Datos..."]}),a&&Object(L.jsxs)(ya,{children:[Object(L.jsxs)(wa,{children:[Object(L.jsxs)(_a,{children:[Object(L.jsx)("div",{className:"flex-grow"}),Object(L.jsx)("h3",{className:"machines-home-page__machine-title",children:"M\xe1quina 1"}),Object(L.jsx)("div",{className:"flex-grow machines__header-actions",children:Object(L.jsx)(ae.a,{variant:"contained",color:"secondary",onClick:function(){i(1)},children:"Nuevo programa"})})]}),Object(L.jsx)(ka,{tasks:we(a.machine1),headCells:r})]}),Object(L.jsxs)(wa,{children:[Object(L.jsxs)(_a,{children:[Object(L.jsx)("div",{className:"flex-grow"}),Object(L.jsx)("h3",{className:"machines-home-page__machine-title",children:"M\xe1quina 2"}),Object(L.jsx)("div",{className:"flex-grow machines__header-actions",children:Object(L.jsx)(ae.a,{variant:"contained",color:"secondary",onClick:function(){i(2)},children:"Nuevo programa"})})]}),Object(L.jsx)(ka,{tasks:we(a.machine2),headCells:r})]})]})]})};var Ta,Ea=function(){var e=function(e){return Object(C.a)(["loadMachinesHomeTasks",e],Object(_.a)(w.a.mark((function e(){var a,t,n;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=le.filter((function(e){return 0===e.status})),t=a.filter((function(e){return"asd5as5d7a8ad8a"===e.machineId})),n=a.filter((function(e){return"f87gh6fgh87fg89"===e.machineId})),e.abrupt("return",{machine1:t,machine2:n});case 4:case"end":return e.stop()}}),e)}))),{refetchInterval:6e4})}(Object(j.c)((function(e){return e.mainReducer})).forceRender),a=e.isLoading,t=e.isError,n=e.data;return Object(L.jsx)(L.Fragment,{children:Object(L.jsx)(Ca,{tasks:n,handleTaskClick:function(e){console.log("hola")},isLoading:a,isError:t})})},Ia=t(67),Pa=t(72),qa=t(417),Ma=I.a.div(Ta||(Ta=Object(E.a)(["\n  input {\n    padding: 0.75rem 0.5rem;\n  }\n"])));var Fa,La,Sa,Ra=function(e){var a=Object(Ia.c)(),t=e.name,n=e.label,r=e.placeholder,i=e.variant,s=void 0===i?"outlined":i,c=e.size,d=void 0===c?"medium":c,o=e.type,l=void 0===o?"text":o,j=e.margin,u=void 0===j?"dense":j,b=e.autofocus,m=void 0!==b&&b,h=e.fullWidth,O=void 0!==h&&h,p=e.adornment,x=void 0===p?null:p,g=e.disabled,f=void 0!==g&&g;return Object(L.jsx)(Ma,{children:Object(L.jsx)(Ke.a,{variant:s,name:t,label:n,type:l,placeholder:r,size:d,onChange:function(e){var n=e.target;a.setFieldValue(t,n.value)},value:a.values[t],autoFocus:m,fullWidth:O,margin:u,helperText:a.errors[t],error:!!a.errors[t],disabled:f,InputProps:{endAdornment:x&&Object(L.jsx)(qa.a,{position:"end",children:x})}})})};function Da(e){var a="";return e>0&&e<=2&&(a="rgba(93, 172, 245, 0.5)"),e>2&&e<=4&&(a="rgba(1, 187, 63, 0.5)"),e>4&&e<=8&&(a="rgba(255, 163, 15, 0.5)"),e>8&&e<=10&&(a="rgba(246, 91, 92, 0.5)"),a}var Za=I.a.div(Fa||(Fa=Object(E.a)(["\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n"]))),za=I.a.div(La||(La=Object(E.a)(["\n  width: 1.75rem;\n  height: 1.75rem;\n  border-radius: 50%;\n  margin-right: 0.5rem;\n"]))),Aa=I.a.span(Sa||(Sa=Object(E.a)(["\n  font-size: 1rem;\n  font-weight: 600;\n"])));function Wa(e){var a="";return e>0&&e<=2&&(a="Normal"),e>2&&e<=4&&(a="Normal"),e>4&&e<=8&&(a="Urgencia 48h"),e>8&&e<=10&&(a="Urgencia 24h"),a}var Ha,Ga,Ja=function(e){var a=e.priority;return Object(L.jsxs)(Za,{children:[Object(L.jsx)(za,{style:{background:Da(a)}}),Object(L.jsx)(Aa,{children:Wa(a)})]})},Ba=Object(I.a)(ne.a)(Ha||(Ha=Object(E.a)(["\n  .MuiPaper-root {\n    max-width: 26rem;\n  }\n"]))),Va=I.a.div(Ga||(Ga=Object(E.a)(["\n  display: flex;\n  justify-content: start;\n  align-items: center;\n  width: 100%;\n  height: 100%;\n"])));var Ua=function(e){var a=e.isOpen,t=e.handleClose,r=Object(Ia.c)(),i=Object(j.c)((function(e){return e.mainReducer.createTaskModal})).selectedMachine;return Object(n.useEffect)((function(){r.values.selectedMachine=i}),[i]),Object(L.jsx)(Ba,{open:a,onClose:t,children:Object(L.jsxs)(Ia.a,{noValidate:!0,children:[Object(L.jsx)(re.a,{sx:{textAlign:"center"},children:"Nuevo programa"}),Object(L.jsx)(ie.a,{children:Object(L.jsxs)(Ve.a,{container:!0,spacing:2,children:[Object(L.jsx)(Ve.a,{item:!0,xs:12,children:Object(L.jsx)(Ra,{name:"employee",label:"C\xf3digo de empleado",fullWidth:!0})}),Object(L.jsx)(Ve.a,{item:!0,xs:12,children:Object(L.jsx)(Ra,{name:"programNumber",label:"N\xba Programa",fullWidth:!0})}),Object(L.jsx)(Ve.a,{item:!0,xs:6,children:Object(L.jsx)(Ra,{name:"material",label:"Material",fullWidth:!0})}),Object(L.jsx)(Ve.a,{item:!0,xs:6,children:Object(L.jsx)(Ra,{name:"thickness",label:"Espesor (mm)",type:"number",adornment:"mm",fullWidth:!0})}),Object(L.jsx)(Ve.a,{item:!0,xs:6,children:Object(L.jsx)(Ra,{name:"priority",label:"Prioridad",type:"number",fullWidth:!0})}),Object(L.jsx)(Ve.a,{item:!0,xs:6,children:Object(L.jsx)(Va,{children:Object(L.jsx)(Ja,{priority:r.values.priority})})}),Object(L.jsx)(Ve.a,{item:!0,xs:6,children:Object(L.jsx)(Ra,{name:"duration",label:"Tiempo",type:"number",adornment:"min",fullWidth:!0})}),Object(L.jsx)(Ve.a,{item:!0,xs:6,children:Object(L.jsx)(Ra,{name:"correctionalFactor",label:"Factor corrector",fullWidth:!0,disabled:!0})}),Object(L.jsx)(Ve.a,{item:!0,xs:12,children:Object(L.jsx)(Ra,{name:"selectedMachine",label:"M\xe1quina",fullWidth:!0})})]})}),Object(L.jsxs)(ce.a,{children:[Object(L.jsx)(ae.a,{onClick:t,variant:"outlined",children:"Cancel"}),Object(L.jsx)(ae.a,{type:"submit",variant:"contained",children:"Submit"})]})]})})};var Ka=function(){var e=Object(j.b)(),a=Object(j.c)((function(e){return e.mainReducer.createTaskModal})),t=a.isOpen;function n(){e(be(!1))}var r={employee:"",material:"",thickness:0,programNumber:"",priority:1,duration:0,correctionalFactor:10,selectedMachine:a.selectedMachine||1},i=Pa.b({employee:Pa.c().required("El c\xf3digo de empleado es obligatorio."),material:Pa.c().required("El material es obligatorio."),thickness:Pa.a().integer("No puede contener decimales.").min(0,"No puede ser negativo.").required("El espesor es obligatorio."),priority:Pa.a().min(1,"El valor m\xednimo es 1.").max(10,"El valor m\xe1ximo es 10.").required("La prioridad es obligatoria."),duration:Pa.a().integer("No puede contener decimales.").required("La duraci\xf3n es obligatoria."),selectedMachine:Pa.a().required("La m\xe1quina es obligatoria.")});return Object(L.jsx)(Ia.b,{initialValues:r,onSubmit:function(e){console.log(e),n()},validationSchema:i,children:Object(L.jsx)(Ua,{isOpen:t,handleClose:n})})},Xa=new o.a;var Ya=function(){return Object(L.jsx)(L.Fragment,{children:Object(L.jsx)(j.a,{store:k(y),children:Object(L.jsxs)(l.a,{client:Xa,children:[Object(L.jsx)(c.a,{basename:"/corobcat",children:Object(L.jsxs)(d.d,{children:[Object(L.jsx)(d.b,{path:"/",exact:!0,children:Object(L.jsx)($e,{})}),Object(L.jsxs)(ma,{children:[Object(L.jsx)(va,{path:"/employees",exact:!0,component:H}),Object(L.jsx)(va,{path:"/employees/:employeeId",component:Ze}),Object(L.jsx)(va,{path:"/finishedTasks",component:He}),Object(L.jsx)(va,{path:"/machines",exact:!0,component:Ea}),Object(L.jsx)(va,{path:"/machines/:machineName",component:Ee})]})]})}),Object(L.jsx)(Ka,{})]})})})},Qa=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,418)).then((function(a){var t=a.getCLS,n=a.getFID,r=a.getFCP,i=a.getLCP,s=a.getTTFB;t(e),n(e),r(e),i(e),s(e)}))};s.a.render(Object(L.jsx)(r.a.StrictMode,{children:Object(L.jsx)(Ya,{})}),document.getElementById("root")),Qa()}},[[336,1,2]]]);
//# sourceMappingURL=main.e02b8775.chunk.js.map