(this.webpackJsonpcorobcat=this.webpackJsonpcorobcat||[]).push([[0],{260:function(e,n,t){},386:function(e,n,t){},387:function(e,n,t){},388:function(e,n,t){},389:function(e,n,t){},390:function(e,n,t){},391:function(e,n,t){},392:function(e,n,t){"use strict";t.r(n);var a=t(1),r=t.n(a),c=t(54),i=t.n(c),s=(t(260),t(32)),o=t(30),l=t(41),d="/machines",j=function(e){return"/machines/".concat(e)},u="/employees",b="/finishedTasks",m="/admin",h=t(20),x=t(15),O=t(9),p=t(464),f=t(465),g=t(443),v=t(466),y=t(36),k=t(34),w=t(18),C=t.n(w),T=t(5),N=t(29),_="http://localhost:8000/api",E="/settings",M=function(e){return"/users/".concat(e)},F=function(e){return"/users/role/".concat(e)},S=function(e){return"/users/code/".concat(e)},I=function(e){return"/tasks/active?status=".concat(e)},P=function(e){return"/tasks/".concat(e)},L=function(e){return"/machines/name/".concat(e)},z="FORCE_RENDER",D="LOGIN_LOADING",R="LOGIN_SUCCESS",q="LOGIN_ERROR",A="LOGOUT",W="SET_CREATE_TASK_MODAL_ISOPEN",B="SET_CREATE_TASK_MODAL_SELECTED_MACHINE",G="LOAD_SETTINGS",H="maquina1",V="maquina2",Q=t(22),U=t.n(Q);function $(e,n,t){return{selectedMachine:t.selectedMachine.toLowerCase(),duration:Number(t.duration),user:e,machine:n,material:t.material,thickness:Number(t.thickness),programNumber:t.programNumber,priority:Number(t.priority)}}var J=t(21);function K(){return{type:z}}function X(e){return{type:W,payload:e}}function Y(e){return{type:B,payload:e}}function Z(){return function(){var e=Object(N.a)(C.a.mark((function e(n){var t,a,r,c,i,s;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t="".concat(_).concat(E),e.next=4,U.a.get(t);case 4:a=e.sent,r=a.data,n({type:G,payload:r}),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),s=(null===e.t0||void 0===e.t0||null===(c=e.t0.response)||void 0===c||null===(i=c.data)||void 0===i?void 0:i.message)||e.t0.message,J.b.error(s);case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(n){return e.apply(this,arguments)}}()}var ee,ne=t(107),te=t(462),ae=t(102),re=t.n(ae),ce=t(454),ie=t(461),se=t(10),oe=t(0),le=se.a.div(ee||(ee=Object(O.a)(["\n  input {\n    padding: 0.75rem 0.5rem;\n  }\n"])));var de,je,ue,be,me,he,xe,Oe,pe,fe,ge,ve,ye,ke,we,Ce,Te,Ne,_e,Ee,Me,Fe,Se,Ie,Pe,Le,ze=function(e){var n=Object(k.c)(),t=e.name,a=e.label,r=e.placeholder,c=e.variant,i=void 0===c?"outlined":c,s=e.size,o=void 0===s?"medium":s,l=e.type,d=void 0===l?"text":l,j=e.margin,u=void 0===j?"dense":j,b=e.autofocus,m=void 0!==b&&b,h=e.fullWidth,x=void 0!==h&&h,O=e.adornment,p=void 0===O?null:O,f=e.disabled,g=void 0!==f&&f,v=e.min,y=e.max;return Object(oe.jsx)(le,{className:"formikTextField",children:Object(oe.jsx)(ce.a,{variant:i,name:t,label:a,type:d,placeholder:r,size:o,onChange:function(e){var a=e.target;n.setFieldValue(t,a.value)},value:n.values[t],autoFocus:m,fullWidth:x,margin:u,helperText:n.touched[t]&&n.errors[t]&&n.errors[t],error:!(!n.touched[t]||!n.errors[t]),disabled:g,InputProps:{inputProps:{min:v,max:y},endAdornment:p&&Object(oe.jsx)(ie.a,{position:"end",children:p})}})})},De=se.a.div(de||(de=Object(O.a)(["\n  display: flex;\n  align-items: flex-start;\n  justify-content: flex-start;\n  height: 60px;\n  margin-bottom: 1rem;\n"]))),Re=se.a.div(je||(je=Object(O.a)(["\n  display: flex;\n  height: 100%;\n  align-items: center;\n"]))),qe=Object(se.a)(ne.a)(ue||(ue=Object(O.a)(["\n  font-weight: 600;\n  margin-right: 1rem;\n"]))),Ae=se.a.div(be||(be=Object(O.a)(["\n  .MuiButton-root {\n    min-width: unset;\n    border-radius: 50%;\n    width: 2.5rem;\n    height: 2.5rem;\n  }\n"]))),We=se.a.div(me||(me=Object(O.a)(["\n  margin-right: 1rem;\n"]))),Be=function(){return Object(oe.jsxs)(De,{children:[Object(oe.jsx)(Re,{children:Object(oe.jsx)(qe,{children:"Crear Empleado: "})}),Object(oe.jsx)(ze,{name:"name",size:"small",label:"Nombre",placeholder:"Nombre"}),Object(oe.jsx)(We,{}),Object(oe.jsx)(ze,{name:"surname",size:"small",label:"Apellidos",placeholder:"Apellidos"}),Object(oe.jsx)(We,{}),Object(oe.jsx)(ze,{name:"employerCode",size:"small",label:"C\xf3d. Emp.",placeholder:"C\xf3digo empleado"}),Object(oe.jsx)(We,{}),Object(oe.jsx)(Re,{children:Object(oe.jsx)(Ae,{children:Object(oe.jsx)(te.a,{variant:"contained",size:"small",sx:{width:"2rem",height:"2rem"},type:"submit",children:Object(oe.jsx)(re.a,{fontSize:"small"})})})})]})},Ge=t(463),He=t(127),Ve=t.n(He),Qe=se.a.li(he||(he=Object(O.a)(["\n  width: 100%;\n  padding: 0.25rem 1rem;\n  display: flex;\n  justify-content: space-between;\n  background: #f5f5f5;\n  border-radius: 0.5rem;\n  margin-bottom: 0.5rem;\n  align-items: center;\n"]))),Ue=Object(se.a)(ne.a)(xe||(xe=Object(O.a)(["\n  flex: 1;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  overflow: hidden;\n"]))),$e=function(e){var n=e.handleDelete,t=e.itemName;return Object(oe.jsxs)(Qe,{children:[Object(oe.jsx)(Ue,{children:t}),Object(oe.jsx)(Ge.a,{onClick:n,children:Object(oe.jsx)(Ve.a,{sx:{cursor:"pointer",":hover":{color:"#1876D1"}}})})]})},Je=t(441),Ke=t(17),Xe=Object(se.a)(Je.a.div).attrs((function(){return{initial:{opacity:0},animate:{opacity:1}}}))(Oe||(Oe=Object(O.a)(["\n  width: 100%;\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n"]))),Ye=Object(se.a)(ne.a)(pe||(pe=Object(O.a)(["\n  font-size: 1.15rem;\n  font-weight: 600;\n  margin-bottom: 0.75rem;\n  text-decoration: underline;\n"]))),Ze=se.a.div(fe||(fe=Object(O.a)(["\n  display: flex;\n  width: 100%;\n  flex-wrap: wrap;\n  height: 100%;\n  overflow-y: auto;\n  align-content: flex-start;\n"]))),en=se.a.div(ge||(ge=Object(O.a)(["\n  margin-right: 1rem;\n  width: 20rem;\n"]))),nn={name:"",surname:"",employerCode:""},tn=y.b({name:y.c().required("Nombre obligatorio"),surname:y.c(),employerCode:y.c().required("Cod. Emp. obligatorio")}),an=function(e){var n=e.employees,t=Object(Ke.b)();function a(e){t(function(e){return function(){var n=Object(N.a)(C.a.mark((function n(t){var a;return C.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,a="".concat(_).concat(M(e)),n.next=4,U.a.delete(a);case 4:J.b.success("Empleado eliminado!"),t(K()),n.next=11;break;case 8:n.prev=8,n.t0=n.catch(0),J.b.error(n.t0.message);case 11:case"end":return n.stop()}}),n,null,[[0,8]])})));return function(e){return n.apply(this,arguments)}}()}(e))}return Object(oe.jsxs)(Xe,{className:"tabContainer",children:[Object(oe.jsx)(Ye,{children:"Gesti\xf3n de empleados"}),Object(oe.jsx)(k.b,{initialValues:nn,onSubmit:function(e){t(function(e){return function(){var n=Object(N.a)(C.a.mark((function n(t){var a,r;return C.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,a={role:1,name:"".concat(e.name," ").concat(e.surname),employerCode:e.employerCode},r="".concat(_).concat("/users"),n.next=5,U.a.post(r,a);case 5:J.b.success("Empleado creado!"),t(K()),n.next=12;break;case 9:n.prev=9,n.t0=n.catch(0),J.b.error(n.t0.message);case 12:case"end":return n.stop()}}),n,null,[[0,9]])})));return function(e){return n.apply(this,arguments)}}()}(e))},validationSchema:tn,children:Object(oe.jsx)(k.a,{noValidate:!0,children:Object(oe.jsx)(Be,{})})}),Object(oe.jsx)(Ze,{children:n.map((function(e){return Object(oe.jsx)(en,{className:"employeesList",children:Object(oe.jsx)($e,{itemName:"(".concat(e.employerCode,"): ").concat(e.name," "),handleDelete:function(){a(e._id)}},e._id)})}))})]})},rn=t(158),cn=t.n(rn),sn=Object(se.a)(ne.a)(ve||(ve=Object(O.a)(["\n  font-size: 1.15rem;\n  font-weight: 600;\n  margin-bottom: 0.5rem;\n"]))),on=se.a.div(ye||(ye=Object(O.a)(["\n  display: flex;\n  flex-direction: row;\n  margin-bottom: 1rem;\n  width: 100%;\n"]))),ln=se.a.div(ke||(ke=Object(O.a)(["\n  flex: 1;\n  .MuiButton-root {\n    min-width: unset;\n    border-radius: 50%;\n    width: 2.5rem;\n    height: 2.5rem;\n    margin-left: 1rem;\n    margin-top: 0.6rem;\n  }\n"]))),dn=function(){var e=Object(k.c)(),n=Object(Ke.b)();function t(t){var a=t===H?"correctionalFactorMachine1":"correctionalFactorMachine2";e.setFieldTouched(a,!0);var r=Number(e.values[a]);r&&n(function(e,n){return function(){var t=Object(N.a)(C.a.mark((function t(a){var r,c,i;return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r=e===H?"correctionalFactorMachine1":"correctionalFactorMachine2",c=Object(T.a)({},r,n),i="".concat(_).concat(E),t.next=6,U.a.patch(i,c);case 6:J.b.success("Actualizado!"),a(K()),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),J.b.error(t.t0.message);case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e){return t.apply(this,arguments)}}()}(t,r))}return Object(oe.jsxs)(oe.Fragment,{children:[Object(oe.jsx)(sn,{children:"Editar factor corrector:"}),Object(oe.jsxs)(on,{children:[Object(oe.jsx)(ze,{type:"number",min:0,max:100,name:"correctionalFactorMachine1",label:"M\xe1quina 1",placeholder:"Nuevo factor corrector M1",adornment:"%",fullWidth:!0}),Object(oe.jsx)(ln,{children:Object(oe.jsx)(te.a,{className:"m1Button",variant:"contained",size:"small",disableElevation:!0,onClick:function(){t(H)},children:Object(oe.jsx)(cn.a,{fontSize:"small"})})})]}),Object(oe.jsxs)(on,{children:[Object(oe.jsx)(ze,{type:"number",min:0,max:100,name:"correctionalFactorMachine2",label:"M\xe1quina 2",placeholder:"Nuevo factor corrector M2",adornment:"%",fullWidth:!0}),Object(oe.jsx)(ln,{children:Object(oe.jsx)(te.a,{variant:"contained",size:"small",disableElevation:!0,onClick:function(){t(V)},children:Object(oe.jsx)(cn.a,{fontSize:"small"})})})]})]})},jn=Object(se.a)(Je.a.div).attrs((function(){return{initial:{opacity:1},animate:{opacity:1}}}))(we||(we=Object(O.a)(["\n  width: 100%;\n  display: flex;\n  flex-direction: row;\n  justify-content: space-around;\n  height: 100%;\n"]))),un=se.a.div(Ce||(Ce=Object(O.a)(["\n  margin: 0 1rem;\n  display: flex;\n  flex-direction: column;\n  height: 100%;\n  max-width: 20rem;\n"]))),bn=se.a.div(Te||(Te=Object(O.a)(["\n  display: flex;\n  flex-direction: row;\n  margin-bottom: 1rem;\n"]))),mn=se.a.div(Ne||(Ne=Object(O.a)(["\n  .MuiButton-root {\n    min-width: unset;\n    border-radius: 50%;\n    width: 2.5rem;\n    height: 2.5rem;\n  }\n"]))),hn=Object(se.a)(ne.a)(_e||(_e=Object(O.a)(["\n  font-size: 1.15rem;\n  font-weight: 600;\n  margin-bottom: 0.5rem;\n"]))),xn=se.a.ul(Ee||(Ee=Object(O.a)(["\n  list-style: none;\n  display: flex;\n  flex-direction: column;\n  width: 100%;\n  overflow-y: auto;\n  height: 100%;\n"]))),On=y.b({correctionalFactorMachine1:y.a().integer("No puede contener decimales").min(0,"El valor m\xednimo es 0").max(100,"El valor m\xe1ximo es 100"),correctionalFactorMachine2:y.a().integer("No puede contener decimales").min(0,"El valor m\xednimo es 0").max(100,"El valor m\xe1ximo es 100")}),pn=function(e){var n=e.settings,t=Object(Ke.b)(),r=Object(a.useState)(""),c=Object(x.a)(r,2),i=c[0],s=c[1],o=Object(a.useState)(""),l=Object(x.a)(o,2),d=l[0],j=l[1],u={correctionalFactorMachine1:n.correctionalFactorMachine1,correctionalFactorMachine2:n.correctionalFactorMachine2};function b(e){var n;window.confirm("Seguro que quieres eliminar el material?")&&t((n=e,function(){var e=Object(N.a)(C.a.mark((function e(t){var a,r;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a={$pull:{materials:n}},r="".concat(_).concat(E),e.next=5,U.a.patch(r,a);case 5:J.b.success("Material eliminado!"),t(K()),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),J.b.error(e.t0.message);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(n){return e.apply(this,arguments)}}()))}function m(e){window.confirm("Seguro que quieres eliminar el espesor?")&&t(function(e){return function(){var n=Object(N.a)(C.a.mark((function n(t){var a,r;return C.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,a={$pull:{thicknesses:e}},r="".concat(_).concat(E),n.next=5,U.a.patch(r,a);case 5:J.b.success("Espesor eliminado!"),t(K()),n.next=12;break;case 9:n.prev=9,n.t0=n.catch(0),J.b.error(n.t0.message);case 12:case"end":return n.stop()}}),n,null,[[0,9]])})));return function(e){return n.apply(this,arguments)}}()}(e))}return Object(oe.jsxs)(jn,{className:"tabContainer",children:[Object(oe.jsx)(un,{className:"groupWrapper",children:Object(oe.jsx)(k.b,{initialValues:u,onSubmit:function(){},validationSchema:On,children:Object(oe.jsx)(k.a,{noValidate:!0,children:Object(oe.jsx)(dn,{})})})}),Object(oe.jsxs)(un,{className:"groupWrapper",children:[Object(oe.jsx)(hn,{children:"Lista de materiales:"}),Object(oe.jsxs)(bn,{children:[Object(oe.jsx)(ce.a,{type:"text",name:"material",label:"Material",placeholder:"Nuevo material",size:"small",sx:{marginRight:"1rem"},value:i,onChange:function(e){var n=e.target;s(n.value)}}),Object(oe.jsx)(mn,{children:Object(oe.jsx)(te.a,{variant:"contained",size:"small",onClick:function(){var e;i?t((e=i,function(){var n=Object(N.a)(C.a.mark((function n(t){var a,r;return C.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,a={$push:{materials:e}},r="".concat(_).concat(E),n.next=5,U.a.patch(r,a);case 5:J.b.success("Material a\xf1adido!"),t(K()),n.next=12;break;case 9:n.prev=9,n.t0=n.catch(0),J.b.error(n.t0.message);case 12:case"end":return n.stop()}}),n,null,[[0,9]])})));return function(e){return n.apply(this,arguments)}}())):J.b.error("No hay un material introducido")},disableElevation:!0,children:Object(oe.jsx)(re.a,{fontSize:"small"})})})]}),Object(oe.jsx)(xn,{className:"itemsList",children:n.materials.map((function(e){return Object(oe.jsx)($e,{itemName:e,handleDelete:function(){b(e)}},e)}))})]}),Object(oe.jsxs)(un,{className:"groupWrapper",children:[Object(oe.jsx)(hn,{children:"Lista de espesores"}),Object(oe.jsxs)(bn,{children:[Object(oe.jsx)(ce.a,{type:"text",name:"thickness",label:"Espesor (en cm)",placeholder:"Nuevo espesor",size:"small",sx:{marginRight:"1rem"},value:d,onChange:function(e){var n=e.target.value;n.includes(",")&&(n=n.replace(",",".")),j(n)}}),Object(oe.jsx)(mn,{children:Object(oe.jsx)(te.a,{variant:"contained",size:"small",onClick:function(){var e;d.match(/^[1-9]\d*(\.\d+)?$/)?t((e=Number(d),function(){var n=Object(N.a)(C.a.mark((function n(t){var a,r;return C.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,a={$push:{thicknesses:e}},r="".concat(_).concat(E),n.next=5,U.a.patch(r,a);case 5:J.b.success("Espesor a\xf1adido!"),t(K()),n.next=12;break;case 9:n.prev=9,n.t0=n.catch(0),J.b.error(n.t0.message);case 12:case"end":return n.stop()}}),n,null,[[0,9]])})));return function(e){return n.apply(this,arguments)}}())):J.b.error("Espesor invalido. Solo puede contener n\xfameros.")},disableElevation:!0,children:Object(oe.jsx)(re.a,{fontSize:"small"})})})]}),Object(oe.jsx)(xn,{className:"itemsList",children:n.thicknesses.map((function(e){return Object(oe.jsx)($e,{itemName:"".concat(e," cm"),handleDelete:function(){m(e)}},e)}))})]})]})},fn="78vh",gn=se.a.div(Me||(Me=Object(O.a)(["\n  display: flex;\n  justify-content: start;\n  align-items: center;\n  max-width: ","px;\n  width: 100%;\n  margin: auto;\n  margin-bottom: 0.5rem;\n  background-color: #f5f5f5;\n  border-radius: 0.25rem;\n  padding: 0.5rem;\n  font-weight: 700;\n"])),1200),vn=se.a.div(Fe||(Fe=Object(O.a)(["\n  display: flex;\n  align-items: center;\n  flex: 1;\n"]))),yn=se.a.div(Se||(Se=Object(O.a)(["\n  flex: 1;\n"]))),kn=function(e){var n=e.children,t=e.value,a=e.index;return Object(oe.jsx)("div",{role:"tabpanel",hidden:t!==a,id:"simple-tabpanel-".concat(a),"aria-labelledby":"simple-tab-".concat(a),style:{height:"calc(100% - 3rem)"},children:t===a&&Object(oe.jsxs)(p.a,{sx:{p:3,height:"100%",flex:1},children:[n,Object(oe.jsx)(yn,{})]})})},wn=se.a.div(Ie||(Ie=Object(O.a)(["\n  width: 100%;\n  display: flex;\n  color: white;\n  font-size: 1.75rem;\n  font-weight: 700;\n  justify-content: center;\n  margin-bottom: 1.5rem;\n"]))),Cn=function(e){var n=e.settings,t=Object(o.g)(),r=Object(a.useState)(0),c=Object(x.a)(r,2),i=c[0],s=c[1];function l(e){return{id:"simple-tab-".concat(e),"aria-controls":"simple-tabpanel-".concat(e)}}var d=new URLSearchParams(window.location.search);Object(a.useEffect)((function(){var e=d.get("tab")||0;s(Number(e))}),[d]);return Object(oe.jsxs)(oe.Fragment,{children:[Object(oe.jsx)(wn,{children:"Zona de administraci\xf3n"}),Object(oe.jsxs)(p.a,{sx:{bgcolor:"background.paper",width:"100%",height:"calc(100% - 4rem)",flex:1,boxSizing:"border-box"},children:[Object(oe.jsx)(f.a,{position:"static",children:Object(oe.jsxs)(g.a,{value:i,onChange:function(e,n){t.push("/admin?tab=".concat(n))},"aria-label":"admin tabs",indicatorColor:"secondary",textColor:"inherit",children:[Object(oe.jsx)(v.a,Object(h.a)(Object(h.a)({label:"Ajustes generales"},l(0)),{},{sx:{color:"white"}})),Object(oe.jsx)(v.a,Object(h.a)(Object(h.a)({label:"Empleados"},l(1)),{},{sx:{color:"white"}}))]})}),Object(oe.jsx)(kn,{value:i,index:0,children:Object(oe.jsx)(pn,{settings:n})},"generalSettingsTab"),Object(oe.jsx)(kn,{value:i,index:1,children:Object(oe.jsx)(an,{employees:n.employees})},"employeesTab")]})]})},Tn=t(467),Nn=se.a.div(Pe||(Pe=Object(O.a)(["\n  display: flex;\n  max-width: 35rem;\n  justify-content: center;\n  align-items: center;\n  margin: auto;\n  color: white;\n  margin-top: 3rem;\n"]))),_n=Object(se.a)(ne.a)(Le||(Le=Object(O.a)(["\n  margin-left: 1rem;\n  font-size: 1.5rem;\n"]))),En=function(e){var n=e.text;return Object(oe.jsxs)(Nn,{children:[Object(oe.jsx)(Tn.a,{}),Object(oe.jsx)(_n,{children:n||"Cargando..."})]})};var Mn,Fn=function(){var e=function(e){return Object(l.useQuery)(["loadAdminProfile",e],Object(N.a)(C.a.mark((function e(){var n,t,a,r;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,U.a.get("".concat(_).concat(E));case 2:return n=e.sent,t=n.data,e.next=6,U.a.get("".concat(_).concat(F(1)));case 6:return a=e.sent,r=a.data,e.abrupt("return",Object(h.a)(Object(h.a)({},t),{},{employees:r}));case 9:case"end":return e.stop()}}),e)}))))}(Object(Ke.c)((function(e){return e.mainReducer})).forceRender),n=e.isLoading,t=e.data;return Object(oe.jsx)(oe.Fragment,{children:n?Object(oe.jsx)(En,{}):t&&Object(oe.jsx)(Cn,{settings:t})})},Sn=function(){var e=Object(Ke.b)(),n=Object(Ke.c)((function(e){return e.mainReducer})),t=n.settings,r=n.forceRender;return Object(a.useEffect)((function(){t&&t.companyName||e(Z())}),[t]),Object(a.useEffect)((function(){e(Z())}),[r]),Object(oe.jsx)(oe.Fragment,{})},In=t(468),Pn=t(437),Ln=t(469),zn=t(452),Dn=t(470),Rn=t(442),qn=t(457),An=t(460),Wn=t(446),Bn=t(451),Gn=se.a.div(Mn||(Mn=Object(O.a)(["\n  margin-top: 0.5rem;\n  .MuiSelect-select {\n    padding: 0.75rem 0.5rem;\n  }\n"])));var Hn,Vn,Qn,Un=function(e){var n=e.name,t=e.label,a=e.values,r=e.variant,c=void 0===r?"outlined":r,i=e.size,s=void 0===i?"medium":i,o=e.margin,l=void 0===o?"dense":o,d=Object(k.c)();var j=a.map((function(e){return{label:(n=e,"string"===typeof n?n:"".concat(n," cm")),value:e};var n}));return Object(oe.jsx)(Gn,{children:Object(oe.jsxs)(qn.a,{fullWidth:!0,children:[Object(oe.jsx)(Wn.a,{id:"demo-simple-select-label",children:t}),Object(oe.jsx)(Rn.a,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:d.values[n],label:t,onChange:function(e){var t=e.target;d.setFieldValue(n,t.value)},error:!(!d.touched[n]||!d.errors[n]),variant:c,size:s,margin:l,defaultValue:d.values[n],children:j.map((function(e){return Object(oe.jsx)(Bn.a,{value:e.value,children:e.label},e.value)}))}),d.touched[n]&&d.errors[n]&&Object(oe.jsx)(An.a,{sx:{color:"#D32F2F"},children:d.errors[n]})]})})};function $n(e){var n="";return e>0&&e<=2&&(n="rgba(93, 172, 245, 0.5)"),e>2&&e<=4&&(n="rgba(1, 187, 63, 0.5)"),e>4&&e<=8&&(n="rgba(255, 163, 15, 0.5)"),e>8&&e<=10&&(n="rgba(246, 91, 92, 0.5)"),n}var Jn=se.a.div(Hn||(Hn=Object(O.a)(["\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n"]))),Kn=se.a.div(Vn||(Vn=Object(O.a)(["\n  width: 1.75rem;\n  height: 1.75rem;\n  border-radius: 50%;\n  margin-right: 0.5rem;\n"]))),Xn=se.a.span(Qn||(Qn=Object(O.a)(["\n  font-size: 1rem;\n  font-weight: 600;\n"])));function Yn(e){var n="";return e>0&&e<=2&&(n="Normal"),e>2&&e<=4&&(n="Normal"),e>4&&e<=8&&(n="Urgencia 48h"),e>8&&e<=10&&(n="Urgencia 24h"),n}var Zn,et,nt=function(e){var n=e.priority;return Object(oe.jsxs)(Jn,{children:[Object(oe.jsx)(Kn,{style:{background:$n(n)}}),Object(oe.jsx)(Xn,{children:Yn(n)})]})},tt=Object(se.a)(In.a)(Zn||(Zn=Object(O.a)(["\n  .MuiPaper-root {\n    max-width: 26rem;\n  }\n"]))),at=se.a.div(et||(et=Object(O.a)(["\n  display: flex;\n  justify-content: start;\n  align-items: center;\n  width: 100%;\n  height: 100%;\n"]))),rt=["Maquina1","Maquina2"];var ct=function(e){var n=e.isOpen,t=e.handleClose,r=e.settings,c=Object(k.c)(),i=Object(Ke.c)((function(e){return e.mainReducer.createTaskModal})).selectedMachine;return Object(a.useEffect)((function(){c.values.selectedMachine=i===H?"Maquina1":"Maquina2",c.values.correctionalFactor=i===H?r.correctionalFactorMachine1:r.correctionalFactorMachine2}),[i]),Object(a.useEffect)((function(){n||c.resetForm()}),[n]),Object(a.useEffect)((function(){c.values.correctionalFactor="Maquina1"===c.values.selectedMachine?r.correctionalFactorMachine1:r.correctionalFactorMachine2}),[c.values.selectedMachine,c.values.correctionalFactor]),Object(oe.jsx)(tt,{open:n,onClose:t,children:Object(oe.jsxs)(k.a,{noValidate:!0,children:[Object(oe.jsx)(Pn.a,{sx:{textAlign:"center"},children:"Nuevo programa"}),Object(oe.jsx)(Ln.a,{children:Object(oe.jsxs)(zn.a,{container:!0,spacing:2,children:[Object(oe.jsx)(zn.a,{item:!0,xs:12,children:Object(oe.jsx)(ze,{name:"employee",label:"C\xf3digo de empleado",autofocus:!0,fullWidth:!0})}),Object(oe.jsx)(zn.a,{item:!0,xs:12,children:Object(oe.jsx)(ze,{name:"programNumber",label:"N\xba Programa",fullWidth:!0})}),Object(oe.jsx)(zn.a,{item:!0,xs:6,children:Object(oe.jsx)(Un,{name:"material",label:"Material",values:r.materials})}),Object(oe.jsx)(zn.a,{item:!0,xs:6,children:Object(oe.jsx)(Un,{name:"thickness",label:"Espesor",values:r.thicknesses})}),Object(oe.jsx)(zn.a,{item:!0,xs:6,children:Object(oe.jsx)(ze,{name:"priority",label:"Prioridad",type:"number",min:1,max:10,fullWidth:!0})}),Object(oe.jsx)(zn.a,{item:!0,xs:6,children:Object(oe.jsx)(at,{children:Object(oe.jsx)(nt,{priority:c.values.priority})})}),Object(oe.jsx)(zn.a,{item:!0,xs:6,children:Object(oe.jsx)(ze,{name:"duration",label:"Tiempo",type:"number",adornment:"min",min:0,fullWidth:!0})}),Object(oe.jsx)(zn.a,{item:!0,xs:6,children:Object(oe.jsx)(ze,{name:"correctionalFactor",label:"Factor corrector",fullWidth:!0,disabled:!0})}),Object(oe.jsx)(zn.a,{item:!0,xs:12,children:Object(oe.jsx)(Un,{name:"selectedMachine",label:"M\xe1quina",values:rt})})]})}),Object(oe.jsxs)(Dn.a,{children:[Object(oe.jsx)(te.a,{onClick:t,variant:"outlined",children:"Cancel"}),Object(oe.jsx)(te.a,{type:"submit",variant:"contained",children:"Submit"})]})]})})};var it=function(){var e=Object(Ke.b)(),n=Object(Ke.c)((function(e){return e.mainReducer.createTaskModal})),t=n.isOpen,a=n.selectedMachine,r=Object(Ke.c)((function(e){return e.mainReducer})).settings,c={employee:"",material:"",thickness:"",programNumber:"",priority:1,duration:0,correctionalFactor:10,selectedMachine:a||"m\xe1quina1"},i=y.b({employee:y.c().required("El c\xf3digo de empleado es obligatorio."),material:y.c().required("El material es obligatorio."),programNumber:y.c().required("El n\xfamero de programa es obligatorio."),thickness:y.a().min(0,"No puede ser negativo.").required("El espesor es obligatorio."),priority:y.a().min(1,"El valor m\xednimo es 1.").max(10,"El valor m\xe1ximo es 10.").required("La prioridad es obligatoria."),duration:y.a().integer("No puede contener decimales.").required("La duraci\xf3n es obligatoria."),selectedMachine:y.c().required("La m\xe1quina es obligatoria.")});return Object(oe.jsx)(k.b,{initialValues:c,onSubmit:function(n){var t;e((t=n,function(){var e=Object(N.a)(C.a.mark((function e(n){var a,r,c,i,s,o,l,d,j,u,b;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a="".concat(_).concat(S(t.employee)),e.next=4,U.a.get(a);case 4:if(r=e.sent,!(c=r.data)){e.next=25;break}return i="".concat(_).concat(L(t.selectedMachine.toLowerCase())),e.next=10,U.a.get(i);case 10:if(s=e.sent,!(o=s.data)){e.next=22;break}return l="".concat(_).concat("/tasks"),d=$(c._id,o._id,t),e.next=17,U.a.post(l,d);case 17:J.b.success("Tarea creada!"),n(K()),n(X(!1)),e.next=23;break;case 22:J.b.error("La m\xe1quina seleccionada no existe");case 23:e.next=26;break;case 25:J.b.error("C\xf3digo de empleado inv\xe1lido");case 26:e.next=32;break;case 28:e.prev=28,e.t0=e.catch(0),b=(null===e.t0||void 0===e.t0||null===(j=e.t0.response)||void 0===j||null===(u=j.data)||void 0===u?void 0:u.message)||e.t0.message,J.b.error(b);case 32:case"end":return e.stop()}}),e,null,[[0,28]])})));return function(n){return e.apply(this,arguments)}}()))},validationSchema:i,children:r&&Object(oe.jsx)(ct,{isOpen:t,handleClose:function(){e(X(!1))},settings:r})})},st=t(19);var ot,lt,dt,jt=t(474),ut=t(458),bt=t(475),mt=t(476),ht=t(472),xt=t(473),Ot=t(444),pt=se.a.div(ot||(ot=Object(O.a)(["\n  display: flex;\n  justify-content: center;\n  width: 100%;\n"]))),ft=se.a.div(lt||(lt=Object(O.a)(["\n  width: 100%;\n  max-width: ","px;\n\n  .MuiTableCell-head {\n    color: #002740;\n    font-weight: 700;\n    background-color: #f5f5f5;\n    border-bottom: 2px solid rgba(150, 150, 150, 1);\n    line-height: 1.25;\n    font-size: 1.1rem;\n  }\n\n  .MuiTableCell-body {\n    border-bottom: 1px solid rgba(255, 255, 255, 1);\n    font-weight: 500;\n    font-size: 1.1rem;\n  }\n\n  .MuiTablePagination-root {\n    color: white;\n  }\n\n  .MuiSvgIcon-root {\n    color: white;\n  }\n"])),1200),gt=se.a.div(dt||(dt=Object(O.a)(["\n  width: 100%;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  padding: 1rem;\n\n  font-size: 1.75rem;\n\n  .MuiCircularProgress-root {\n    margin-right: 1rem;\n  }\n"]))),vt=t(471);function yt(e){var n=e.headCells;return Object(oe.jsx)(vt.a,{children:Object(oe.jsx)(ht.a,{children:n.map((function(e){return Object(oe.jsx)(xt.a,{align:"center",padding:"normal",children:e.label},e.id)}))})})}var kt,wt,Ct=t(223),Tt=t.n(Ct),Nt=t(222),_t=t.n(Nt),Et=se.a.div(kt||(kt=Object(O.a)(["\n  display: flex;\n  justify-content: start;\n  align-items: center;\n  padding: 0.25rem 0.5rem;\n  border-radius: 0.5rem;\n  font-size: 0.9rem;\n  font-weight: 600;\n  width: fit-content;\n  margin: auto;\n"]))),Mt=se.a.span(wt||(wt=Object(O.a)(["\n  line-height: normal;\n"]))),Ft={0:"En curso",1:"Finalizada"},St={0:"#014361",1:"#1e4620"},It={0:"#03a9f4",1:"#4caf50"},Pt={0:"#E5F5FD",1:"#EDF7ED"},Lt=function(e){var n=e.status;return Object(oe.jsxs)(Et,{className:"TaskStatusContainer",style:{background:Pt[n],color:St[n]},children:[0===n?Object(oe.jsx)(_t.a,{style:{color:It[n],marginRight:"0.25rem"}}):Object(oe.jsx)(Tt.a,{style:{color:It[n],marginRight:"0.25rem"}}),Object(oe.jsx)(Mt,{children:Ft[n]})]})},zt=t(224),Dt=t.n(zt);function Rt(e){return e?Dt()(e).format("DD/MM/YY HH:mm"):"-"}function qt(e){var n="";return e>0&&e<=2&&(n="rgba(93, 172, 245, 0.5)"),e>2&&e<=4&&(n="rgba(1, 187, 63, 0.5)"),e>4&&e<=8&&(n="rgba(255, 163, 15, 0.5)"),e>8&&e<=10&&(n="rgba(246, 91, 92, 0.5)"),{backgroundColor:n}}function At(e){var n=e.tasks,t=e.headCells,a=e.isLoading,c=e.isError,i=r.a.useState(0),s=Object(x.a)(i,2),o=s[0],l=s[1],d=r.a.useState(25),j=Object(x.a)(d,2),u=j[0],b=j[1];return Object(oe.jsx)(pt,{className:"EnhancedTaskTable",children:Object(oe.jsx)(ft,{className:"EnhancedTaskTable__container",children:Object(oe.jsxs)(p.a,{sx:{width:"100%"},children:[Object(oe.jsx)(jt.a,{component:ut.a,sx:{maxHeight:"70vh"},children:Object(oe.jsxs)(bt.a,{sx:{minWidth:750,maxHeight:250},"aria-labelledby":"tableTitle",size:"medium",stickyHeader:!0,children:[Object(oe.jsx)(yt,{headCells:t}),Object(oe.jsx)(mt.a,{children:a?Object(oe.jsx)(ht.a,{children:Object(oe.jsx)(xt.a,{colSpan:999,children:Object(oe.jsxs)(gt,{children:[Object(oe.jsx)(Tn.a,{}),"Cargando Datos..."]})})}):c?Object(oe.jsx)(oe.Fragment,{}):n&&n.map((function(e,n){return Object(oe.jsxs)(ht.a,{sx:{"&:last-child td, &:last-child th":{border:0}},style:qt(e.priority),children:[Object(oe.jsx)(xt.a,{align:"center",children:Object(oe.jsx)(Lt,{status:e.status})}),Object(oe.jsx)(xt.a,{align:"center",children:e.material}),Object(oe.jsx)(xt.a,{align:"center",children:e.thickness}),Object(oe.jsx)(xt.a,{align:"center",children:e.programNumber}),Object(oe.jsx)(xt.a,{align:"center",children:e.machine.name}),Object(oe.jsxs)(xt.a,{align:"center",children:[e.duration," min"]}),Object(oe.jsx)(xt.a,{align:"center",children:Rt(e.end||e.start)})]},e._id)}))})]})}),!a&&n&&Object(oe.jsx)(Ot.a,{rowsPerPageOptions:[25,50,75,100],component:"div",count:n.length,rowsPerPage:u,page:o,onPageChange:function(e,n){l(n)},onRowsPerPageChange:function(e){b(parseInt(e.target.value,10)),l(0)}})]})})})}t(386);var Wt,Bt,Gt,Ht,Vt,Qt=t(88),Ut=t.n(Qt),$t=se.a.div(Wt||(Wt=Object(O.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  background: #d8d8d8;\n  border-radius: 0.5rem;\n  padding: 0.15rem 0;\n\n  .MuiGrid-item {\n    text-align: center;\n    padding: 0.25rem;\n    font-weight: 400;\n  }\n"]))),Jt=se.a.div(Bt||(Bt=Object(O.a)(["\n  width: 95%;\n  height: 1px;\n  margin: auto;\n  background: #8a8a8a;\n"]))),Kt=se.a.span(Gt||(Gt=Object(O.a)(["\n  font-weight: 700;\n"]))),Xt=se.a.span(Ht||(Ht=Object(O.a)(["\n  font-size: 1.5rem;\n"]))),Yt=se.a.span(Vt||(Vt=Object(O.a)(["\n  color: green;\n  font-weight: 700;\n"])));var Zt,ea,na=function(e){var n=e.machine1Tasks,t=e.machine1TimeToFinish,a=e.machine2Tasks,r=e.machine2TimeToFinish,c=e.totalTasks,i=e.totalTimeToFinish;return Object(oe.jsx)($t,{children:Object(oe.jsxs)(zn.a,{container:!0,children:[Object(oe.jsx)(zn.a,{item:!0,alignItems:"center",xs:3}),Object(oe.jsx)(zn.a,{item:!0,alignItems:"start",xs:3,children:Object(oe.jsx)(Kt,{children:"Maq.1"})}),Object(oe.jsx)(zn.a,{item:!0,alignItems:"start",xs:3,children:Object(oe.jsx)(Kt,{children:"Maq.2"})}),Object(oe.jsx)(zn.a,{item:!0,alignItems:"center",xs:3,children:Object(oe.jsx)(Yt,{children:"Total"})}),Object(oe.jsx)(zn.a,{item:!0,alignItems:"start",xs:3,children:Object(oe.jsx)(Kt,{children:"Prog. Activos"})}),Object(oe.jsx)(zn.a,{item:!0,alignItems:"center",xs:3,children:Object(oe.jsx)(Xt,{children:n})}),Object(oe.jsx)(zn.a,{item:!0,alignItems:"center",xs:3,children:Object(oe.jsx)(Xt,{children:a})}),Object(oe.jsx)(zn.a,{item:!0,alignItems:"center",xs:3,children:Object(oe.jsx)(Xt,{children:Object(oe.jsx)(Yt,{children:c})})}),Object(oe.jsx)(Jt,{}),Object(oe.jsx)(zn.a,{item:!0,alignItems:"center",xs:3,children:Object(oe.jsx)(Kt,{children:" T. Restante"})}),Object(oe.jsx)(zn.a,{item:!0,alignItems:"center",xs:3,children:Object(oe.jsxs)(Xt,{children:[t," min"]})}),Object(oe.jsx)(zn.a,{item:!0,alignItems:"center",xs:3,children:Object(oe.jsxs)(Xt,{children:[r," min"]})}),Object(oe.jsx)(zn.a,{item:!0,alignItems:"center",xs:3,children:Object(oe.jsx)(Xt,{children:Object(oe.jsxs)(Yt,{children:[i," min "]})})})]})})};function ta(e){return e?e.reduce((function(e,n){return e+n.duration}),0):0}var aa=se.a.div(Zt||(Zt=Object(O.a)(["\n  flex: 1;\n"]))),ra=se.a.div(ea||(ea=Object(O.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  height: 100%;\n"])));var ca=function(e){var n=e.employee,t=e.tasks,a=function(e){var n=null===e||void 0===e?void 0:e.filter((function(e){return e.machine.name===H})),t=null===e||void 0===e?void 0:e.filter((function(e){return e.machine.name===V})),a=ta(n),r=ta(t);return{machine1:{activeTasks:null===n||void 0===n?void 0:n.length,timeToFinish:a},machine2:{activeTasks:null===t||void 0===t?void 0:t.length,timeToFinish:r}}}(t),r=Object(o.g)();return Object(oe.jsx)(gn,{className:"user-data-table-container",children:Object(oe.jsxs)(vn,{className:"user-data-table",children:[Object(oe.jsx)(Ge.a,{onClick:function(){return r.goBack()},"aria-label":"goBack",children:Object(oe.jsx)(Ut.a,{})}),Object(oe.jsxs)(ra,{children:[Object(oe.jsx)("span",{className:"user-data-table__info--name",children:null===n||void 0===n?void 0:n.name}),Object(oe.jsxs)("span",{className:"user-data-table__info",children:["C\xf3d. Emp: ",null===n||void 0===n?void 0:n.employerCode]})]}),Object(oe.jsx)(aa,{}),Object(oe.jsx)(na,{machine1Tasks:a.machine1.activeTasks,machine1TimeToFinish:a.machine1.timeToFinish,machine2Tasks:a.machine2.activeTasks,machine2TimeToFinish:a.machine2.timeToFinish,totalTasks:null===t||void 0===t?void 0:t.length,totalTimeToFinish:ta(t)})]})})};var ia=function(e){var n=e.tasks,t=e.isLoading,a=e.isError,r=e.employee;return Object(oe.jsxs)(oe.Fragment,{children:[Object(oe.jsx)(ca,{employee:r,tasks:n}),Object(oe.jsx)(At,{headCells:[{id:"status",label:"Estado"},{id:"material",label:"Material"},{id:"thickness",label:"Espesor"},{id:"programNumber",label:"N\xba Programa"},{id:"machine",label:"M\xe1quina"},{id:"duration",label:"Tiempo"},{id:"date",label:"Fecha"}],tasks:n,isLoading:t,isError:a})]})};var sa=function(){var e=function(e){return Object(l.useQuery)(["loadEmployeeTasks",e],Object(N.a)(C.a.mark((function n(){var t,a,r,c,i,s,o;return C.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,U.a.get("".concat(_).concat(M(e)));case 2:return t=n.sent,a=t.data,n.next=6,U.a.get("".concat(_).concat("/tasks/user/".concat(e)));case 6:return r=n.sent,c=r.data,i=c.filter((function(e){return 0===e.status})).sort((function(e,n){return new Date(n.start)-new Date(e.start)})),s=c.filter((function(e){return 1===e.status})).sort((function(e,n){return new Date(n.end)-new Date(e.end)})),o=[].concat(Object(st.a)(i),Object(st.a)(s)),n.abrupt("return",{employeeTasks:o,employee:a});case 12:case"end":return n.stop()}}),n)}))),{refetchInterval:6e4})}(Object(o.h)().employeeId),n=e.isLoading,t=e.isError,a=e.data;return Object(oe.jsx)(oe.Fragment,{children:Object(oe.jsx)(ia,{tasks:null===a||void 0===a?void 0:a.employeeTasks,employee:null===a||void 0===a?void 0:a.employee,isLoading:n,isError:t})})};t(387),t(388);var oa=t(477),la=t(478),da=t(479);var ja,ua,ba=function(e){var n=e.employee;return Object(oe.jsxs)(oa.a,{className:"employee__card",children:[Object(oe.jsxs)(la.a,{children:[Object(oe.jsxs)(ne.a,{color:"textSecondary",gutterBottom:!0,children:["C\xf3d. empleado: ",n.employerCode]}),Object(oe.jsx)(ne.a,{variant:"h5",component:"h2",children:n.name})]}),Object(oe.jsx)(da.a,{children:Object(oe.jsx)(s.b,{to:"/employees/".concat(n._id),className:"employee__link",children:"Ver Empleado"})})]},n._id)},ma=se.a.div(ja||(ja=Object(O.a)(["\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: flex-start;\n  align-items: flex-start;\n  width: 100%;\n"]))),ha=se.a.div(ua||(ua=Object(O.a)(["\n  width: 100%;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  padding: 1rem;\n\n  font-size: 1.75rem;\n"])));var xa=function(e){var n=e.employees,t=e.isLoading,a=e.isError;return Object(oe.jsxs)(oe.Fragment,{children:[Object(oe.jsx)("div",{className:"employees-title",children:"Lista de empleados"}),Object(oe.jsx)(ma,{className:"employees-container",children:t?Object(oe.jsxs)(ha,{children:[Object(oe.jsx)(Tn.a,{}),"Cargando Datos..."]}):a?Object(oe.jsx)(oe.Fragment,{}):n&&n.map((function(e){return Object(oe.jsx)(ba,{employee:e},e._id)}))})]})};var Oa,pa,fa,ga,va,ya=function(){var e=Object(l.useQuery)(["loadEmployers"],Object(N.a)(C.a.mark((function e(){var n,t,a;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="".concat(_).concat(F(1)),e.next=3,U.a.get(n);case 3:return t=e.sent,a=t.data,e.abrupt("return",a);case 6:case"end":return e.stop()}}),e)})))),n=e.isLoading,t=e.isError,a=e.data;return Object(oe.jsx)(oe.Fragment,{children:Object(oe.jsx)(xa,{employees:a,isLoading:n,isError:t})})};function ka(e){var n=e.tasks,t=e.headCells,a=e.isLoading,c=e.isError,i=r.a.useState(0),s=Object(x.a)(i,2),o=s[0],l=s[1],d=r.a.useState(25),j=Object(x.a)(d,2),u=j[0],b=j[1];return Object(oe.jsx)(pt,{className:"EnhancedTaskTable",children:Object(oe.jsx)(ft,{className:"EnhancedTaskTable__container",children:Object(oe.jsxs)(p.a,{sx:{width:"100%"},children:[Object(oe.jsx)(jt.a,{component:ut.a,sx:{maxHeight:fn},children:Object(oe.jsxs)(bt.a,{sx:{minWidth:750},"aria-labelledby":"tableTitle",size:"medium",stickyHeader:!0,children:[Object(oe.jsx)(yt,{headCells:t}),Object(oe.jsx)(mt.a,{children:a?Object(oe.jsx)(ht.a,{children:Object(oe.jsx)(xt.a,{colSpan:999,children:Object(oe.jsxs)(gt,{children:[Object(oe.jsx)(Tn.a,{}),"Cargando Datos..."]})})}):c?Object(oe.jsx)(oe.Fragment,{}):n&&n.map((function(e,n){return Object(oe.jsxs)(ht.a,{sx:{"&:last-child td, &:last-child th":{border:0}},style:qt(e.priority),children:[Object(oe.jsx)(xt.a,{align:"center",children:e.machine.name}),Object(oe.jsx)(xt.a,{align:"center",children:e.material}),Object(oe.jsx)(xt.a,{align:"center",children:e.thickness}),Object(oe.jsx)(xt.a,{align:"center",children:e.programNumber}),Object(oe.jsx)(xt.a,{align:"center",children:e.user.employerCode}),Object(oe.jsxs)(xt.a,{align:"center",children:[e.duration," min"]}),Object(oe.jsx)(xt.a,{align:"center",children:Rt(e.end)})]},e._id)}))})]})}),!a&&n&&Object(oe.jsx)(Ot.a,{rowsPerPageOptions:[25,50,75,100],component:"div",count:n.length,rowsPerPage:u,page:o,onPageChange:function(e,n){l(n)},onRowsPerPageChange:function(e){b(parseInt(e.target.value,10)),l(0)}})]})})})}var wa=se.a.div(Oa||(Oa=Object(O.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  background: #d8d8d8;\n  border-radius: 0.5rem;\n  padding: 0.15rem 0;\n\n  .MuiGrid-item {\n    text-align: center;\n    padding: 0.25rem;\n    font-weight: 400;\n  }\n"]))),Ca=se.a.div(pa||(pa=Object(O.a)(["\n  width: 95%;\n  height: 1px;\n  margin: auto;\n  background: #8a8a8a;\n"]))),Ta=se.a.span(fa||(fa=Object(O.a)(["\n  font-weight: 700;\n"]))),Na=se.a.span(ga||(ga=Object(O.a)(["\n  font-size: 1.5rem;\n"]))),_a=se.a.span(va||(va=Object(O.a)(["\n  color: green;\n  font-weight: 700;\n"])));var Ea,Ma,Fa=function(e){var n=e.machine1Tasks,t=e.machine1Time,a=e.machine2Tasks,r=e.machine2Time,c=e.totalTasks,i=e.totalTime;return Object(oe.jsx)(wa,{children:Object(oe.jsxs)(zn.a,{container:!0,children:[Object(oe.jsx)(zn.a,{item:!0,alignItems:"center",xs:3}),Object(oe.jsx)(zn.a,{item:!0,alignItems:"start",xs:3,children:Object(oe.jsx)(Ta,{children:"Maq.1"})}),Object(oe.jsx)(zn.a,{item:!0,alignItems:"start",xs:3,children:Object(oe.jsx)(Ta,{children:"Maq.2"})}),Object(oe.jsx)(zn.a,{item:!0,alignItems:"center",xs:3,children:Object(oe.jsx)(_a,{children:"Total"})}),Object(oe.jsx)(zn.a,{item:!0,alignItems:"start",xs:3,children:Object(oe.jsx)(Ta,{children:"Prog. Terminados"})}),Object(oe.jsx)(zn.a,{item:!0,alignItems:"center",xs:3,children:Object(oe.jsx)(Na,{children:n})}),Object(oe.jsx)(zn.a,{item:!0,alignItems:"center",xs:3,children:Object(oe.jsx)(Na,{children:a})}),Object(oe.jsx)(zn.a,{item:!0,alignItems:"center",xs:3,children:Object(oe.jsx)(Na,{children:Object(oe.jsx)(_a,{children:c})})}),Object(oe.jsx)(Ca,{}),Object(oe.jsx)(zn.a,{item:!0,alignItems:"center",xs:3,children:Object(oe.jsx)(Ta,{children:" Tiempo"})}),Object(oe.jsx)(zn.a,{item:!0,alignItems:"center",xs:3,children:Object(oe.jsxs)(Na,{children:[t," min"]})}),Object(oe.jsx)(zn.a,{item:!0,alignItems:"center",xs:3,children:Object(oe.jsxs)(Na,{children:[r," min"]})}),Object(oe.jsx)(zn.a,{item:!0,alignItems:"center",xs:3,children:Object(oe.jsx)(Na,{children:Object(oe.jsxs)(_a,{children:[i," min "]})})})]})})};var Sa=se.a.div(Ea||(Ea=Object(O.a)(["\n  flex: 1;\n"]))),Ia=se.a.p(Ma||(Ma=Object(O.a)(["\n  margin-left: 0.5rem;\n  font-size: 1.5rem;\n  justify-self: flex-start;\n"])));var Pa=function(e){var n=e.tasks,t=function(e){var n=null===e||void 0===e?void 0:e.filter((function(e){return e.machine.name===H})),t=null===e||void 0===e?void 0:e.filter((function(e){return e.machine.name===V})),a=ta(n),r=ta(t);return{machine1:{tasks:null===n||void 0===n?void 0:n.length,time:a},machine2:{tasks:null===t||void 0===t?void 0:t.length,time:r}}}(n),a=Object(o.g)();return Object(oe.jsx)(gn,{className:"user-data-table-container",children:Object(oe.jsxs)(vn,{className:"user-data-table",children:[Object(oe.jsx)(Ge.a,{onClick:function(){return a.push(d)},"aria-label":"goBack",children:Object(oe.jsx)(Ut.a,{})}),Object(oe.jsx)(Ia,{children:"Programas finalizados"}),Object(oe.jsx)(Sa,{}),Object(oe.jsx)(Fa,{machine1Tasks:t.machine1.tasks,machine1Time:t.machine1.time,machine2Tasks:t.machine2.tasks,machine2Time:t.machine2.time,totalTasks:null===n||void 0===n?void 0:n.length,totalTime:ta(n)})]})})};var La=function(e){var n=e.tasks,t=e.isLoading,a=e.isError;return Object(oe.jsxs)(oe.Fragment,{children:[Object(oe.jsx)(Pa,{tasks:n}),Object(oe.jsx)(ka,{headCells:[{id:"machine",label:"M\xe1quina"},{id:"material",label:"Material"},{id:"thickness",label:"Espesor"},{id:"programNumber",label:"N\xba Programa"},{id:"employerCode",label:"T\xe9cnico"},{id:"duration",label:"Tiempo"},{id:"date",label:"Fecha"}],tasks:n,isLoading:t,isError:a})]})};var za=function(){var e=Object(l.useQuery)(["loadFinishedTasks"],Object(N.a)(C.a.mark((function e(){var n,t,a,r;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="".concat(_).concat(I(1)),e.next=3,U.a.get(n);case 3:return t=e.sent,a=t.data,r=a.sort((function(e,n){var t=new Date(e.end);return new Date(n.end)-t})),e.abrupt("return",r);case 7:case"end":return e.stop()}}),e)}))),{refetchInterval:6e4}),n=e.isLoading,t=e.isError,a=e.data;return Object(oe.jsx)(oe.Fragment,{children:Object(oe.jsx)(La,{tasks:a,isLoading:n,isError:t})})},Da=(t(389),t(459)),Ra=t(447),qa=t(439),Aa=t(440),Wa=t(227),Ba=t.n(Wa),Ga=t(453),Ha=t(438),Va=t(229),Qa=t.n(Va),Ua=t(226),$a=t.n(Ua),Ja=t(160),Ka=t.n(Ja),Xa=t(228),Ya=t.n(Xa),Za=t(225),er=t.n(Za),nr=function(e){return"No existe un empleado con el c\xf3digo de empleado: ".concat(e,".")};function tr(e){return{type:q,payload:{errorMessage:e}}}var ar=function(){var e=Object(o.g)(),n=Object(Ke.b)(),t=Object(Ke.c)((function(e){return e.authReducer})).user;return Object(oe.jsxs)("div",{className:"left-menu",children:[Object(oe.jsx)("div",{className:"left-menu__header",children:Object(oe.jsx)(Ga.a,{children:(null===t||void 0===t?void 0:t.name.charAt(0))||"CRC"})}),Object(oe.jsxs)("nav",{className:"left-menu__nav",children:[Object(oe.jsxs)(Da.a,{children:[Object(oe.jsx)(Ra.a,{disableGutters:!0,children:Object(oe.jsx)(s.c,{activeClassName:"left-menu__nav-item--active",to:d,className:"left-menu__nav-item",children:Object(oe.jsxs)(Ha.a,{children:[Object(oe.jsx)(qa.a,{children:Object(oe.jsx)(er.a,{})}),Object(oe.jsx)(Aa.a,{primary:"Maquinas"})]})})}),Object(oe.jsxs)(Da.a,{component:"div",disablePadding:!0,children:[Object(oe.jsx)(s.c,{activeClassName:"left-menu__nav-item--active",to:j(H),className:"left-menu__nav-item",children:Object(oe.jsxs)(Ha.a,{sx:{pl:5},children:[Object(oe.jsx)(qa.a,{children:Object(oe.jsx)(Ka.a,{})}),Object(oe.jsx)(Aa.a,{primary:"Maquina 1"})]})}),Object(oe.jsx)(s.c,{activeClassName:"left-menu__nav-item--active",to:j(V),className:"left-menu__nav-item",children:Object(oe.jsxs)(Ha.a,{sx:{pl:5},children:[Object(oe.jsx)(qa.a,{children:Object(oe.jsx)(Ka.a,{})}),Object(oe.jsx)(Aa.a,{primary:"Maquina 2"})]})})]}),0===(null===t||void 0===t?void 0:t.role)&&Object(oe.jsx)(Ra.a,{disableGutters:!0,children:Object(oe.jsx)(s.c,{activeClassName:"left-menu__nav-item--active",to:u,className:"left-menu__nav-item",children:Object(oe.jsxs)(Ha.a,{children:[Object(oe.jsx)(qa.a,{children:Object(oe.jsx)($a.a,{})}),Object(oe.jsx)(Aa.a,{primary:"Lista de t\xe9cnicos"})]})})}),Object(oe.jsx)(Ra.a,{disableGutters:!0,children:Object(oe.jsx)(s.c,{activeClassName:"left-menu__nav-item--active",to:b,className:"left-menu__nav-item",children:Object(oe.jsxs)(Ha.a,{children:[Object(oe.jsx)(qa.a,{children:Object(oe.jsx)(Ba.a,{})}),Object(oe.jsx)(Aa.a,{primary:"Programas Terminados"})]})})}),0===(null===t||void 0===t?void 0:t.role)&&Object(oe.jsx)(Ra.a,{disableGutters:!0,children:Object(oe.jsx)(s.c,{activeClassName:"left-menu__nav-item--active",to:m,className:"left-menu__nav-item",children:Object(oe.jsxs)(Ha.a,{children:[Object(oe.jsx)(qa.a,{children:Object(oe.jsx)(Ya.a,{})}),Object(oe.jsx)(Aa.a,{primary:"Zona Admin"})]})})})]}),Object(oe.jsx)("div",{className:"flex-grow"}),Object(oe.jsx)(Ra.a,{disableGutters:!0,className:"left-menu__nav-item left-menu__nav-item--bottom",children:Object(oe.jsxs)(Ha.a,{onClick:function(){n((localStorage.removeItem("user"),{type:A})),e.replace("/")},children:[Object(oe.jsx)(qa.a,{children:Object(oe.jsx)(Qa.a,{})}),Object(oe.jsx)(Aa.a,{primary:"Salir"})]})})]})]})};t(390);var rr,cr=function(e){var n=e.children;return Object(oe.jsxs)("div",{className:"layout",children:[Object(oe.jsx)("div",{className:"layout__menu-container",children:Object(oe.jsx)(ar,{})}),Object(oe.jsx)("div",{className:"layout__content",children:n})]})},ir=(t(391),t(230)),sr=t.n(ir),or=se.a.div(rr||(rr=Object(O.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  width: 100vw;\n  height: 100vh;\n\n  .MuiPaper-root {\n    padding: 3rem 1.25rem;\n    width: 17rem;\n  }\n\n  .MuiGrid-root {\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    align-items: center;\n  }\n  .MuiAvatar-root {\n    margin-bottom: 1rem;\n    background-color: #1bbd7e;\n  }\n  .MuiFormControl-root {\n    margin-bottom: 1rem;\n    margin-top: 1rem;\n  }\n  .MuiButton-root {\n    margin-top: 1rem;\n  }\n"])));var lr=function(){var e=Object(Ke.b)(),n=Object(o.g)(),t=Object(Ke.c)((function(e){return e.authReducer})),r=t.loginLoading,c=t.loginError,i=t.user,s=Object(a.useRef)(null),l=Object(a.useState)(""),d=Object(x.a)(l,2),j=d[0],u=d[1];function b(){var n;s.current&&e((n=s.current.value,function(){var e=Object(N.a)(C.a.mark((function e(t){var a,r,c,i;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:D}),a="".concat(_).concat("/auth/login"),r={employeeCode:n},e.next=6,U.a.post(a,r);case 6:c=e.sent,(i=c.data)?(localStorage.setItem("user",JSON.stringify(i)),t({type:R,payload:{user:i}})):t(tr(nr(n))),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),e.t0.response?(t(tr(e.t0.response.message)),J.b.error("C\xf3digo de empleado inv\xe1lido.")):(t(tr(e.t0.message)),J.b.error("Error al iniciar sesi\xf3n. Por favor, int\xe9ntelo de nuevo"));case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(n){return e.apply(this,arguments)}}()))}return Object(a.useEffect)((function(){i&&n.replace("/machines"),c&&u(c)}),[i,c]),Object(oe.jsx)(or,{children:Object(oe.jsx)(zn.a,{children:Object(oe.jsxs)(ut.a,{elevation:10,children:[Object(oe.jsxs)(zn.a,{children:[Object(oe.jsx)(Ga.a,{children:Object(oe.jsx)(sr.a,{})}),Object(oe.jsx)("h2",{children:"Login"})]}),Object(oe.jsx)(ce.a,{label:"C\xf3digo de empleado",placeholder:"Entra el c\xf3digo de empleado",variant:"standard",fullWidth:!0,required:!0,inputRef:s,onKeyUp:function(e){"Enter"===e.key&&b()}}),r&&Object(oe.jsx)(Tn.a,{}),Object(oe.jsx)("small",{className:"form__warningMessage",children:j}),Object(oe.jsx)(te.a,{variant:"contained",fullWidth:!0,onClick:b,children:"login"})]})})})};var dr,jr=function(e){var n=e.taskId,t=e.openFinishedTaskDialog;return Object(oe.jsx)(oe.Fragment,{children:Object(oe.jsx)(te.a,{variant:"contained",disableElevation:!0,onClick:function(){t(n)},children:"Finalizar"})})},ur=t(480),br={taskId:"",isAcceptButtonActive:!1,employeeCode:""};function mr(){var e=Object(Ke.b)(),n=Object(a.useState)(!1),t=Object(x.a)(n,2),r=t[0],c=t[1],i=Object(a.useState)(br),s=Object(x.a)(i,2),o=s[0],l=s[1];function d(){c(!1)}var j=Object(oe.jsxs)(In.a,{open:r,onClose:d,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[Object(oe.jsx)(Pn.a,{id:"alert-dialog-title",children:"Confirmaci\xf3n finalizar programa"}),Object(oe.jsxs)(Ln.a,{children:[Object(oe.jsx)(ur.a,{id:"alert-dialog-description",children:"\xa0Introduce tu c\xf3digo de empleado para finalizar el programa:"}),Object(oe.jsx)(zn.a,{container:!0,children:Object(oe.jsx)(zn.a,{item:!0,xs:8,children:Object(oe.jsx)(ce.a,{variant:"outlined",label:"C\xf3d. Empleado",placeholder:"C\xf3digo de empleado",fullWidth:!0,sx:{marginTop:"1rem"},value:o.employeeCode,onChange:function(e){var n=e.target,t=!1;n.value&&(t=!0),l((function(e){return Object(h.a)(Object(h.a)({},e),{},{isAcceptButtonActive:t,employeeCode:n.value})}))}})})})]}),Object(oe.jsxs)(Dn.a,{children:[Object(oe.jsx)(te.a,{onClick:d,children:"Cancelar"}),Object(oe.jsx)(te.a,{onClick:function(){var n,t;e((n=o.employeeCode,t=o.taskId,function(){var e=Object(N.a)(C.a.mark((function e(a){var r,c,i,s,o,l;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r="".concat(_).concat(S(n)),e.next=4,U.a.get(r);case 4:if(!e.sent){e.next=14;break}return c="".concat(_).concat(P(t)),i={status:1,end:new Date},e.next=10,U.a.patch(c,i);case 10:J.b.success("Tarea finalizada!"),a(K()),e.next=15;break;case 14:J.b.error("C\xf3digo de empleado inv\xe1lido");case 15:e.next=21;break;case 17:e.prev=17,e.t0=e.catch(0),l=(null===e.t0||void 0===e.t0||null===(s=e.t0.response)||void 0===s||null===(o=s.data)||void 0===o?void 0:o.message)||e.t0.message,J.b.error(l);case 21:case"end":return e.stop()}}),e,null,[[0,17]])})));return function(n){return e.apply(this,arguments)}}())),c(!1)},autoFocus:!0,variant:"contained",disabled:!o.isAcceptButtonActive,children:"Finalizar programa"})]})]});return{FinishTaskDialog:j,handleFinishTaskDialogOpen:function(e){c(!0),l(Object(h.a)(Object(h.a)({},o),{},{taskId:e,isAcceptButtonActive:!1,employeeCode:""}))},handleFinishTaskDialogClose:d}}var hr,xr,Or=Object(se.a)(Ge.a)(dr||(dr=Object(O.a)(["\n  .MuiSvgIcon-root {\n    color: #707070;\n\n    &:hover {\n      color: #1876d1;\n    }\n  }\n"])));function pr(e){var n=e.tasks,t=e.headCells,r=e.isLoading,c=e.isError,i=e.handleDeleteTask,s=Object(Ke.c)((function(e){return e.authReducer})).user,o=mr(),l=o.FinishTaskDialog,d=o.handleFinishTaskDialogOpen,j=Object(a.useState)(0),u=Object(x.a)(j,2),b=u[0],m=u[1],h=Object(a.useState)(25),O=Object(x.a)(h,2),f=O[0],g=O[1];return Object(oe.jsxs)(pt,{className:"EnhancedTaskTable",children:[Object(oe.jsx)(ft,{className:"EnhancedTaskTable__container",children:Object(oe.jsxs)(p.a,{sx:{width:"100%"},children:[Object(oe.jsx)(jt.a,{component:ut.a,sx:{maxHeight:fn},children:Object(oe.jsxs)(bt.a,{sx:{minWidth:750},"aria-labelledby":"tableTitle",size:"medium",stickyHeader:!0,children:[Object(oe.jsx)(yt,{headCells:t}),Object(oe.jsx)(mt.a,{children:r?Object(oe.jsx)(ht.a,{children:Object(oe.jsx)(xt.a,{colSpan:999,children:Object(oe.jsxs)(gt,{children:[Object(oe.jsx)(Tn.a,{}),"Cargando Datos..."]})})}):c?Object(oe.jsx)(oe.Fragment,{}):n&&n.map((function(e,n){return Object(oe.jsxs)(ht.a,{sx:{"&:last-child td, &:last-child th":{border:0}},style:qt(e.priority),children:[Object(oe.jsx)(xt.a,{align:"center",children:e.material}),Object(oe.jsx)(xt.a,{align:"center",children:e.thickness}),Object(oe.jsx)(xt.a,{align:"center",children:e.programNumber}),Object(oe.jsx)(xt.a,{align:"center",children:e.user.employerCode}),Object(oe.jsxs)(xt.a,{align:"center",children:[e.duration," min"]}),Object(oe.jsxs)(xt.a,{align:"right",children:[(0===(null===s||void 0===s?void 0:s.role)||e.user.employerCode===(null===s||void 0===s?void 0:s.employerCode))&&Object(oe.jsx)(jr,{taskId:e._id,programNumber:e.programNumber,openFinishedTaskDialog:d}),0===(null===s||void 0===s?void 0:s.role)&&Object(oe.jsx)(Or,{color:"secondary",onClick:function(){i(e._id)},sx:{marginLeft:"0.5rem"},children:Object(oe.jsx)(Ve.a,{color:"primary"})})]})]},e._id)}))})]})}),!r&&n&&Object(oe.jsx)(Ot.a,{rowsPerPageOptions:[25,50,75,100],component:"div",count:n.length,rowsPerPage:f,page:b,onPageChange:function(e,n){m(n)},onRowsPerPageChange:function(e){g(parseInt(e.target.value,10)),m(0)}})]})}),l]})}var fr=se.a.p(hr||(hr=Object(O.a)(["\n  margin: 0 0.5rem;\n  font-size: 1.25rem;\n  width: 6.25rem;\n"]))),gr=se.a.p(xr||(xr=Object(O.a)(["\n  width: 22rem;\n  margin-left: 1.5rem;\n  text-align: center;\n  font-size: 1.75rem;\n"])));var vr=function(e){var n=e.machineName,t=e.activeOrders,a=e.timeToFinish,r=Object(o.g)(),c=Object(Ke.b)();return Object(oe.jsxs)(gn,{className:"user-data-table-container",children:[Object(oe.jsx)(Ge.a,{onClick:function(){return r.push(d)},"aria-label":"goBack",children:Object(oe.jsx)(Ut.a,{})}),Object(oe.jsxs)(vn,{children:[Object(oe.jsx)(fr,{className:"user-data-table__info--name",children:"maquina1"===n?"M\xe1quina 1":"M\xe1quina 2"}),Object(oe.jsxs)(gr,{className:"user-data-table__info",children:["Programas activos: ",t]}),Object(oe.jsxs)(gr,{className:"user-data-table__info",children:["Tiempo restante: ",a," min"]})]}),Object(oe.jsx)(yn,{}),Object(oe.jsx)(te.a,{variant:"contained",color:"secondary",onClick:function(){c(Y(n)),c(X(!0))},children:"Nuevo programa"})]})};function yr(e){return e?e.sort((function(e,n){return n.priority-e.priority})):void 0}var kr=function(e){var n=e.tasks,t=e.isLoading,a=e.isError,r=e.machineName,c=e.handleDeleteTask;return Object(oe.jsxs)(oe.Fragment,{children:[Object(oe.jsx)(vr,{machineName:r,activeOrders:(null===n||void 0===n?void 0:n.length)||0,timeToFinish:ta(n)}),Object(oe.jsx)(pr,{headCells:[{id:"material",label:"Material"},{id:"thickness",label:"Espesor"},{id:"programNumber",label:"N\xba Programa"},{id:"employerCode",label:"T\xe9cnico"},{id:"duration",label:"Tiempo"},{id:"actions",label:"Acciones"}],tasks:yr(n),isLoading:t,isError:a,handleDeleteTask:c})]})};var wr,Cr,Tr,Nr,_r=function(){var e=Object(Ke.b)(),n=Object(Ke.c)((function(e){return e.mainReducer})).forceRender,t=Object(o.h)().machineName,a=function(e,n){return Object(l.useQuery)(["loadMachineTasks",e,n],Object(N.a)(C.a.mark((function n(){var t,a,r,c,i,s;return C.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t="".concat(_).concat(L(e)),n.next=3,U.a.get(t);case 3:return a=n.sent,r=a.data,c="".concat(_).concat((o=r._id,"/tasks/active/machine/".concat(o))),n.next=8,U.a.get(c);case 8:return i=n.sent,s=i.data,n.abrupt("return",s);case 11:case"end":return n.stop()}var o}),n)}))),{refetchInterval:6e4})}(t,n),r=a.isLoading,c=a.isError,i=a.data;return Object(oe.jsx)(oe.Fragment,{children:Object(oe.jsx)(kr,{machineName:t,tasks:i,handleTaskClick:function(e){},handleDeleteTask:function(n){window.confirm("Seguro que deseas eliminar la tarea?")&&e(function(e){return function(){var n=Object(N.a)(C.a.mark((function n(t){var a,r,c,i;return C.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,a="".concat(_).concat(P(e)),n.next=4,U.a.delete(a);case 4:J.b.success("Tarea eliminada!"),t(K()),n.next=12;break;case 8:n.prev=8,n.t0=n.catch(0),i=(null===n.t0||void 0===n.t0||null===(r=n.t0.response)||void 0===r||null===(c=r.data)||void 0===c?void 0:c.message)||n.t0.message,J.b.error(i);case 12:case"end":return n.stop()}}),n,null,[[0,8]])})));return function(e){return n.apply(this,arguments)}}()}(n))},isLoading:r,isError:c})})},Er=se.a.div(wr||(wr=Object(O.a)(["\n  width: 100%;\n  height: 100%;\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n  align-items: flex-start;\n"]))),Mr=se.a.div(Cr||(Cr=Object(O.a)(["\n  width: 100%;\n  height: 100%;\n  display: flex;\n  flex-direction: row;\n  justify-content: center;\n  align-items: center;\n  padding-top: 1.5rem;\n  font-size: 1.5rem;\n  color: white;\n\n  .MuiCircularProgress-root {\n    margin-right: 1rem;\n  }\n"]))),Fr=se.a.div(Tr||(Tr=Object(O.a)(["\n  width: 49%;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n"]))),Sr=se.a.div(Nr||(Nr=Object(O.a)(["\n  padding: 1rem 0;\n  display: flex;\n  justify-content: space-between;\n  width: 100%;\n\n  .flex-grow {\n    flex: 1;\n  }\n\n  .machines-home-page__machine-title {\n    font-size: 1.75rem;\n    color: white;\n  }\n\n  .machines__header-actions {\n    display: flex;\n    justify-content: flex-end;\n  }\n"])));function Ir(e){var n=Object(Ke.c)((function(e){return e.authReducer})).user,t=e.tasks,r=e.headCells,c=mr(),i=c.FinishTaskDialog,s=c.handleFinishTaskDialogOpen,o=Object(a.useState)(0),l=Object(x.a)(o,2),d=l[0],j=l[1],u=Object(a.useState)(25),b=Object(x.a)(u,2),m=b[0],h=b[1];return Object(oe.jsxs)(pt,{className:"EnhancedTaskTable",children:[Object(oe.jsx)(ft,{className:"EnhancedTaskTable__container",children:Object(oe.jsxs)(p.a,{sx:{width:"100%"},children:[Object(oe.jsx)(jt.a,{component:ut.a,sx:{maxHeight:fn},children:Object(oe.jsxs)(bt.a,{"aria-labelledby":"tableTitle",size:"medium",stickyHeader:!0,children:[Object(oe.jsx)(yt,{headCells:r}),Object(oe.jsx)(mt.a,{children:t&&t.map((function(e,t){return Object(oe.jsxs)(ht.a,{sx:{"&:last-child td, &:last-child th":{border:0}},style:qt(e.priority),children:[Object(oe.jsx)(xt.a,{align:"center",children:e.programNumber}),Object(oe.jsxs)(xt.a,{align:"center",children:[e.duration," min"]}),Object(oe.jsx)(xt.a,{align:"center",children:(0===(null===n||void 0===n?void 0:n.role)||e.user.employerCode===(null===n||void 0===n?void 0:n.employerCode))&&Object(oe.jsx)(jr,{taskId:e._id,programNumber:e.programNumber,openFinishedTaskDialog:s})})]},e._id)}))})]})}),t&&Object(oe.jsx)(Ot.a,{rowsPerPageOptions:[25,50,75,100],component:"div",count:t.length,rowsPerPage:m,page:d,onPageChange:function(e,n){j(n)},onRowsPerPageChange:function(e){h(parseInt(e.target.value,10)),j(0)}})]})}),i]})}var Pr=function(e){var n=e.tasks,t=e.isLoading,a=Object(Ke.b)(),r=[{id:"programNumber",label:"N\xba Programa"},{id:"duration",label:"Tiempo"},{id:"actions",label:"Acciones"}];function c(e){a(Y(e)),a(X(!0))}return Object(oe.jsxs)(oe.Fragment,{children:[t&&Object(oe.jsxs)(Mr,{children:[Object(oe.jsx)(Tn.a,{}),"Cargando Datos..."]}),n&&Object(oe.jsxs)(Er,{children:[Object(oe.jsxs)(Fr,{children:[Object(oe.jsxs)(Sr,{children:[Object(oe.jsx)("div",{className:"flex-grow"}),Object(oe.jsx)("h3",{className:"machines-home-page__machine-title",children:"M\xe1quina 1"}),Object(oe.jsx)("div",{className:"flex-grow machines__header-actions",children:Object(oe.jsx)(te.a,{variant:"contained",color:"secondary",onClick:function(){c(H)},children:"Nuevo programa"})})]}),Object(oe.jsx)(Ir,{tasks:yr(n.machine1),headCells:r})]}),Object(oe.jsxs)(Fr,{children:[Object(oe.jsxs)(Sr,{children:[Object(oe.jsx)("div",{className:"flex-grow"}),Object(oe.jsx)("h3",{className:"machines-home-page__machine-title",children:"M\xe1quina 2"}),Object(oe.jsx)("div",{className:"flex-grow machines__header-actions",children:Object(oe.jsx)(te.a,{variant:"contained",color:"secondary",onClick:function(){c(V)},children:"Nuevo programa"})})]}),Object(oe.jsx)(Ir,{tasks:yr(n.machine2),headCells:r})]})]})]})};var Lr=function(){var e=function(e){return Object(l.useQuery)(["loadMachinesHomeTasks",e],Object(N.a)(C.a.mark((function e(){var n,t,a,r,c;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="".concat(_).concat(I(0)),e.next=3,U.a.get(n);case 3:return t=e.sent,a=t.data,r=a.filter((function(e){return e.machine.name===H})),c=a.filter((function(e){return e.machine.name===V})),e.abrupt("return",{machine1:r,machine2:c});case 8:case"end":return e.stop()}}),e)}))),{refetchInterval:6e4})}(Object(Ke.c)((function(e){return e.mainReducer})).forceRender),n=e.isLoading,t=e.isError,a=e.data;return Object(oe.jsx)(oe.Fragment,{children:Object(oe.jsx)(Pr,{tasks:a,handleTaskClick:function(e){},isLoading:n,isError:t})})},zr=t(132),Dr=["path","component","exact"];var Rr=function(e){var n=e.path,t=e.component,a=e.exact,r=Object(zr.a)(e,Dr),c=Object(Ke.c)((function(e){return e.authReducer.user}));return Object(oe.jsx)(o.b,Object(h.a)(Object(h.a)({path:n,exact:a},r),{},{render:function(e){return c?Object(oe.jsx)(t,Object(h.a)({},e)):Object(oe.jsx)(o.a,{to:"/"})}}))},qr=["path","component","exact"];var Ar=function(e){var n=e.path,t=e.component,a=e.exact,r=Object(zr.a)(e,qr),c=Object(Ke.c)((function(e){return e.authReducer.user}));return Object(oe.jsx)(o.b,Object(h.a)(Object(h.a)({path:n,exact:a},r),{},{render:function(e){return c?0===c.role?Object(oe.jsx)(t,Object(h.a)({},e)):Object(oe.jsx)(o.a,{to:d}):Object(oe.jsx)(o.a,{to:"/"})}}))},Wr=t(91),Br=t(231);var Gr=Object(Wr.b)({authReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0,t={};switch(n.type){case D:t=Object(h.a)(Object(h.a)({},e),{},{loginLoading:!0});break;case q:t=Object(h.a)(Object(h.a)({},e),{},{loginLoading:!1,loginError:n.payload.errorMessage});break;case R:t=Object(h.a)(Object(h.a)({},e),{},{loginLoading:!1,loginError:null,user:n.payload.user});break;case A:t=Object(h.a)(Object(h.a)({},e),{},{user:null});break;default:t=e}return t},mainReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0,t={};switch(n.type){case z:t=Object(h.a)(Object(h.a)({},e),{},{forceRender:++e.forceRender});break;case W:t=Object(h.a)(Object(h.a)({},e),{},{createTaskModal:Object(h.a)(Object(h.a)({},e.createTaskModal),{},{isOpen:n.payload})});break;case B:t=Object(h.a)(Object(h.a)({},e),{},{createTaskModal:Object(h.a)(Object(h.a)({},e.createTaskModal),{},{selectedMachine:n.payload})});break;case G:t=Object(h.a)(Object(h.a)({},e),{},{settings:n.payload});break;default:t=e}return t}});function Hr(e){var n=window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||Wr.c;return Object(Wr.d)(Gr,e,n(Object(Wr.a)(Br.a)))}var Vr={mainReducer:{forceRender:0,createTaskModal:{isOpen:!1,selectedMachine:"m\xe1quina1"},settings:null},authReducer:{user:JSON.parse(localStorage.getItem("user"))||null}},Qr=new l.QueryClient;var Ur=function(){return Object(oe.jsx)(oe.Fragment,{children:Object(oe.jsxs)(Ke.a,{store:Hr(Vr),children:[Object(oe.jsxs)(l.QueryClientProvider,{client:Qr,children:[Object(oe.jsx)(Sn,{}),Object(oe.jsx)(s.a,{basename:"/corobcat",children:Object(oe.jsxs)(o.d,{children:[Object(oe.jsx)(o.b,{path:"/",exact:!0,children:Object(oe.jsx)(lr,{})}),Object(oe.jsxs)(cr,{children:[Object(oe.jsx)(Rr,{path:u,exact:!0,component:ya}),Object(oe.jsx)(Rr,{path:"/employees/:employeeId",component:sa}),Object(oe.jsx)(Rr,{path:b,component:za}),Object(oe.jsx)(Rr,{path:d,exact:!0,component:Lr}),Object(oe.jsx)(Rr,{path:"/machines/:machineName",component:_r}),Object(oe.jsx)(Ar,{path:m,component:Fn})]})]})}),Object(oe.jsx)(it,{})]}),Object(oe.jsx)(J.a,{toastOptions:{duration:3e3}})]})})},$r=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,481)).then((function(n){var t=n.getCLS,a=n.getFID,r=n.getFCP,c=n.getLCP,i=n.getTTFB;t(e),a(e),r(e),c(e),i(e)}))};i.a.render(Object(oe.jsx)(r.a.StrictMode,{children:Object(oe.jsx)(Ur,{})}),document.getElementById("root")),$r()}},[[392,1,2]]]);
//# sourceMappingURL=main.2c9de107.chunk.js.map